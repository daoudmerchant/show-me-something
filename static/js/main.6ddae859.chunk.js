(this["webpackJsonpshow-me-something"]=this["webpackJsonpshow-me-something"]||[]).push([[0],{66:function(e,t,n){},67:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(6),r=n.n(c),i=n(49),a=n.n(i),s=n(4),o=n(13),u=n(0),l=n.n(u),d=n(2),g=n(12),b=n(11),j=n(22),A=n(15),C=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c,r,i,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.subreddit,c=t.limit,r=t.timeframe,i=t.filter,e.prev=1,e.next=4,fetch("https://www.reddit.com/r/".concat(n,"/").concat(i,".json?limit=").concat(c,"&t=").concat(r,"&raw_json=1"));case 4:return e.next=6,e.sent.json();case 6:return a=e.sent,s=a.data.children.map((function(e){return{title:e.data.title,text:e.data.selftext,subreddit:e.data.subreddit,upvotes:e.data.ups,downvotes:e.data.downs,controversiality:parseInt(100*e.data.upvote_ratio),id:e.data.id,NSFW:e.data.over_18,spoiler:e.data.spoiler,url:"https://www.reddit.com".concat(e.data.permalink.slice(0,-1)),media:function(){if("link"===e.data.post_hint){if(e.data.url.includes("v.redd.it"))return{type:"video",local:!0,content:{videourl:e.data.url+"/DASH_720.mp4",audiourl:e.data.url+"/DASH_audio.mp4",width:e.data.thumbnail_width,height:e.data.thumbnail_height,format:"mp4"}};if(e.data.url.includes("i.imgur.com")){if("gifv"===e.data.url.slice(-4))return{type:"video",local:!0,content:{videourl:e.data.url.slice(0,-4)+"mp4",width:e.data.thumbnail_width,height:e.data.thumbnail_height,format:"mp4"}};console.log("Untreated Imgur content ".concat(e.data.url)),console.log(e.data)}return e.data.url.includes("wikipedia")?{type:"wikipedia",content:{url:e.data.url}}:{type:"website",content:{url:e.data.url}}}if("hosted:video"===e.data.post_hint){var t=e.data.media.reddit_video.fallback_url.slice(0,-16);return{type:"video",local:!0,content:{videourl:t,audiourl:t.split("DASH")[0].concat("DASH_audio.mp4"),width:e.data.media.reddit_video.width,height:e.data.media.reddit_video.height,format:"mp4"}}}if("rich:video"===e.data.post_hint)return{type:"video",local:!1,content:{html:e.data.media.oembed.html,width:e.data.media.oembed.thumbnail_width,height:e.data.media.oembed.thumbnail_height}};if("image"===e.data.post_hint)return{type:"image",content:{width:e.data.thumbnail_width,height:e.data.thumbnail_height,images:e.data.preview.images[0].resolutions,fallback:e.data.url}};if(e.data.is_gallery)return{type:"gallery",content:{gallery:e.data.gallery_data.items.map((function(e){return e.media_id})).map((function(t){return{images:e.data.media_metadata[t].p.map((function(e){return{url:e.u,width:e.x,height:e.y}}))}}))}};var n={type:"text",content:{text:e.data.selftext}};return"self"===e.data.post_hint?n:void 0===e.data.post_hint?e.data.url.includes("reddit")?n:e.data.url.includes("wikipedia")?{type:"wikipedia",content:{url:e.data.url}}:{type:"website",content:{url:e.data.url}}:(console.log("Untreated case ".concat(e.data.post_hint,"!")),void console.log(e.data))}()}})),e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,".json"));case 3:return e.next=5,e.sent.json();case 5:return n=e.sent,c=n[1].data.children,e.abrupt("return",c.map((function(e){return{content:e.data.body,author:e.data.author,isMod:"moderator"===e.data.distinguished,isSubmitter:e.data.is_submitter,controversiality:e.data.controversiality,upvotes:e.data.ups,downvotes:e.data.downs}})).filter((function(e){return!e.isMod})));case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.reddit.com/r/".concat(t,"/about.json"));case 3:return e.next=5,e.sent.json();case 5:return n=e.sent,e.abrupt("return",{exists:!0,subreddit:n.data.display_name,subtitle:n.data.title,icon:n.data.icon_img||n.data.header_img||null});case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{exists:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),f=n(50),m=n(27),O=n(29),p=Object(f.a)({apiKey:"AIzaSyDDshwp4uVe8mvpSX8dhbKG0qgs95CodwE",authDomain:"showmesomething-a0ee0.firebaseapp.com",projectId:"showmesomething-a0ee0",storageBucket:"showmesomething-a0ee0.appspot.com",messagingSenderId:"201296462781",appId:"1:201296462781:web:118f67e3cdd9961e42c8d4",measurementId:"G-P6C3YY8M9V"}),x=Object(m.d)(p),v=new O.a,y=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.d)(Object(O.b)(),v);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e,t=function(){var t=Object(d.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",e);case 2:return t.prev=2,n=Object(m.b)(x,"app","defaults"),t.next=6,Object(m.c)(n);case 6:return c=t.sent,e=c.data(),t.abrupt("return",e);case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(l.a.mark((function t(n){var c,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(m.b)(x,"users",n),t.prev=1,t.next=4,Object(m.c)(c);case 4:if(!(r=t.sent).exists()){t.next=9;break}return t.abrupt("return",r.data());case 9:return i=Object(m.a)(x,"users"),t.next=12,Object(m.e)(Object(m.b)(i,n),e);case 12:return t.abrupt("return",e);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}();return{defaults:t,userData:n}}(),N=function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(m.b)(x,"users",t),e.prev=1,e.next=4,Object(m.f)(c,n);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),t=function(){var t=Object(d.a)(l.a.mark((function t(n,c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n,{settings:c});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(l.a.mark((function t(n,c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n,{buttons:c});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{userSettings:t,userButtons:n}}(),k=(n(66),function(e){for(var t=Object(o.a)(e),n=t.length-1;n>0;n--){var c=Math.floor(Math.random()*(n+1)),r=[t[c],t[n]];t[n]=r[0],t[c]=r[1]}return t}),S=function(){return 1e17*Math.random()},F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];n.forEach((function(t){return t(e)}))},R=Object(c.createContext)(),E=(n(67),n(1)),T=function(e){var t=e.user,n=e.confirmWelcomed,r=Object(c.useState)(!0),i=Object(b.a)(r,2),a=i[0],s=i[1];return Object(E.jsxs)("nav",{children:[Object(E.jsx)(j.c,{exact:!0,to:"/",id:"home",activeClassName:"selected",children:"ShowMeSomething"}),Object(E.jsx)(j.c,{to:"/about",onClick:n,className:"about",activeClassName:"selected",children:"About"}),t?Object(E.jsxs)(j.c,{to:"/settings",className:"userbar",onClick:n,activeClassName:"selected",children:[Object(E.jsx)("div",{id:"username",children:[t.displayName[0],t.displayName[t.displayName.length-1]].map((function(e,t){var n="name"+(t+1);return Object(E.jsx)("p",{className:n,children:e},n)}))}),t.photoURL&&a?Object(E.jsx)("img",{className:"userpic",src:t.photoURL,alt:"user profile pic",onError:function(){return s(!1)}}):Object(E.jsx)("div",{className:"userpic",children:Object(E.jsx)("p",{children:t.displayName.map((function(e){return e.slice(0,1)}))})})]}):Object(E.jsxs)("div",{className:"userbar",onClick:function(){y(),n()},children:[Object(E.jsx)("div",{id:"username",children:Object(E.jsx)("p",{className:"name1",children:"Login"})}),Object(E.jsx)("div",{className:"userpic",children:Object(E.jsx)("p",{children:"?"})})]})]})},D=(n(76),["Cormorant","Ephesis","Fleur de Leah","Irish Grover","PT Mono","Prata","Rubik Beastly","Griffy","Creepster","Finger Paint"]),L={text:"Add New...",style:{color:"#000000",backgroundColor:"#FFFFFF",font:D[0]},subreddits:[]},M=[0,720,850,1e3,1200,1400],z=["NSFW","spoiler"],P=[{header:"Wait... What is this?",body:[Object(E.jsx)("span",{className:"question",children:"Never heard of Reddit?"}),Object(E.jsx)("span",{className:"question",children:"Went on Reddit once but found it overwhelming?"}),Object(E.jsx)("span",{className:"question",children:"Love Reddit but hate having to dig to get to the content?"}),Object(E.jsx)("span",{className:"question",children:"Avid Redditor but waste hours every time you visit?"}),"... Give this a try.","Press a category button to see a piece of content. One tap, one piece of content. No adverts, no 'browsing'; think of it like a Reddit Pez dispenser \ud83d\ude42.","Each button aggregates up to 3 'subreddits' (think communities), mixes up their content and serves an item up each time you press it.",["Head back ",Object(E.jsx)(j.b,{to:"/",children:"home"})," to get started, and when you're ready, head to the ",Object(E.jsx)(j.b,{to:"/settings",children:"settings"})," page to sign in, adjust what Reddit content you see  and customise and create your own buttons. There are thousands of Reddit communities... Type something that interests you in the button editor and see if it exists, or check out ",Object(E.jsx)("a",{href:"https://www.reddit.com/r/ListOfSubreddits/wiki/listofsubreddits",target:"_blank",rel:"noreferrer",children:"this directory"})," to find exactly what scratches your itch."],"Have fun!"]},{header:"What should I know before starting?",body:["This app uses Google Firebase to store user data, and currently requires a Google account to be customised.",["Please note that this app ",Object(E.jsx)("span",{className:"bold",children:"does not"})," block content, and ",Object(E.jsx)("span",{className:"bold",children:"may contain material unsuitable for people under 18 years"}),"."]]}],W=[{header:"Finished!",body:["Looks like you finished this content."]},{header:"Er... How do I get more?",body:[["Head to ",Object(E.jsx)(j.b,{to:"/settings",children:"settings"})," to increase how many posts are pulled from Reddit."]]}],U=function(e){var t=e.children;return Object(E.jsx)("span",{className:"bold",children:t})},B=function(e){var t=e.children;return Object(E.jsx)("span",{className:"important",children:t})},J=function(e){return['This post has been marked with a "',Object(E.jsx)(U,{children:e}),'" tag.']},G={spoiler:{emoji:"\ud83e\udd2b",header:"Shhhhhh...",body:J("spoiler"),help:{question:["What is a ",Object(E.jsx)(U,{children:"Spoiler"}),"?"],answer:["A ",Object(E.jsx)(U,{children:"Spoiler"}),"is content which may reveal details about a piece of media which could 'spoil' the surprise"]},confirmation:"I don't mind, I want to see!"},NSFW:{emoji:"\ud83d\ude33",header:"Oh my...",body:J("NSFW"),help:{question:["What does ",Object(E.jsx)(U,{children:"NSFW"})," stand for?"],answer:[Object(E.jsx)(U,{children:"NSFW"})," stands for ",Object(E.jsx)(U,{children:"N"}),"ot ",Object(E.jsx)(U,{children:"S"}),"afe ",Object(E.jsx)(U,{children:"F"}),"or ",Object(E.jsx)(U,{children:"W"}),"ork, meaning ",Object(E.jsx)(B,{children:"content not suitable for people under the age of 18"}),". This may include ",Object(E.jsx)(U,{children:"graphic violence"}),", ",Object(E.jsx)(U,{children:"drug usage"}),", ",Object(E.jsx)(U,{children:"sexual content"}),"."]},confirmation:"I confirm that I am over 18 years old"},RedditError:{emoji:"\ud83d\ude13",header:"Oh no!",body:"Reddit isn't responding!",help:{question:"Have you checked that:",answer:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"Your internet is connected and working"}),Object(E.jsx)("li",{children:Object(E.jsx)("a",{href:"https://www.redditstatus.com/",target:"_blank",rel:"noreferrer",children:"Reddit is not down"})})]})},confirmation:"Retry loading content",cancellation:"Edit settings"},contentError:{emoji:"\ud83d\ude13",header:"Oh no!",body:"This content failed to load!",help:{answer:"Have you checked that your internet connection is working?"},confirmation:"Retry loading content"}},Y=(n(77),function(e){var t=e.text;return Object(E.jsx)("div",{id:"infobox",children:t.map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:"infoheader",children:e.header},"header".concat(t)),Object(E.jsx)("hr",{},"hr".concat(t)),e.body.map((function(e,t){return Object(E.jsx)("p",{children:Array.isArray(e)?e.map((function(e,t){return Array.isArray(e)?e.map((function(e,t){return Object(E.jsx)("span",{children:e},"subsubphrase".concat(t))})):Object(E.jsx)("span",{children:e},"subphrase".concat(t))})):Object(E.jsx)("span",{children:e},"phrase".concat(t))},"phrase".concat(t))}))]},"paragraph".concat(t))}))},t[0].header)}),V=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("p",{children:["Click ",Object(E.jsx)(j.b,{to:"/",children:"here"})," to head back"]}),Object(E.jsx)("div",{id:"aboutcontainer",children:Object(E.jsx)(Y,{text:P})})]})},Z=n(31),X=(n(78),n(79),function(e){var t=e.type,n=e.confirm,r=e.cancel,i=Object(c.useContext)(R).getNextPost,a=G[t],s=function(e){return function(t){t.stopPropagation(),null===e||void 0===e||e()}};return Object(E.jsx)("div",{id:"promptcontainer",children:Object(E.jsxs)("form",{id:"prompt",onSubmit:function(e){e.preventDefault(),n()},children:[Object(E.jsx)("h1",{children:a.emoji}),Object(E.jsx)("h2",{children:a.header}),Object(E.jsx)("p",{children:a.body}),Object(E.jsxs)("div",{className:"promptbuttons",children:[Object(E.jsx)("button",{type:"button",className:"cancel",onClick:s(r||i),children:a.cancellation||"Skip this post"}),Object(E.jsx)("button",{type:"submit",className:"submit",onClick:s(),children:a.confirmation})]}),Object(E.jsxs)("aside",{children:[Object(E.jsx)("h3",{children:a.help.question}),Object(E.jsx)("p",{children:a.help.answer})]})]})})}),H=n(41),Q=(n(80),n(81),n(82),n(83),function(e){var t=e.spinning;return Object(E.jsxs)("div",{id:"spinner",children:[Object(E.jsxs)("div",{className:"antenna".concat(t&&" spinning"),children:[Object(E.jsx)("div",{className:"angle"}),Object(E.jsx)("div",{className:"bobble"})]}),Object(E.jsx)("div",{className:"spinnero"})]})}),K=function(e){var t=e.type,n=function(){switch(t){case"POSTS":return{text:"Fetching posts",className:"gettingposts"};case"BUTTONS":return{text:"Getting buttons",className:"gettingbuttons"};case"VIDEO":return{text:"Loading video",className:"gettingposts"};case"IMAGE":return{text:"Loading image",className:"gettingposts"};case"COMMENTS":return{text:"Fetching comments",className:"gettingcomments"}}}();return Object(E.jsx)("div",{className:"loadingcontainer",children:Object(E.jsxs)("div",{className:"loading ".concat(n.className),children:[Object(E.jsx)(Q,{spinning:!0}),Object(E.jsx)("p",{children:"".concat(n.text,"...")})]})})},q=function(e){var t=e.currentImage,n=e.currentTitle,r=Object(c.useState)(!1),i=Object(b.a)(r,2),a=i[0],s=i[1],o=Object(c.useState)(!1),u=Object(b.a)(o,2),l=u[0],d=u[1];return Object(c.useEffect)((function(){s(!1),d(!1)}),[t]),l?Object(E.jsx)(X,{type:"contentError",confirm:function(){return d(!1)}}):Object(E.jsxs)("div",{className:"mediacontainer",children:[a||Object(E.jsx)(K,{type:"IMAGE"}),Object(E.jsx)("img",{style:{aspectRatio:"".concat(t.images[0].width," / ").concat(t.images[0].height),display:a?void 0:"none"},id:"imgpost",srcSet:t.images.map((function(e){return"".concat(e.url," ").concat(e.width,"w")})).join(", "),src:t.fallback,alt:n,onLoad:function(){s(!0)},onError:function(){return d(!0)}})]})},_=(n(84),function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(R).currentPost;Object(c.useEffect)((function(){r(0)}),[i]);return Object(E.jsxs)("div",{className:"gallerycontainer",children:[Object(E.jsx)("div",{className:"gallerynav galleryleft",onClick:function(){r(0===n?i.media.content.gallery.length-1:function(e){return e-1})},children:"\u25c4"}),Object(E.jsx)(q,{currentImage:i.media.content.gallery[n],currentTitle:i.title}),Object(E.jsx)("div",{className:"gallerynav galleryright",onClick:function(){n+1<i.media.content.gallery.length?r((function(e){return e+1})):r(0)},children:"\u25ba"})]})}),$=(n(85),n.p+"static/media/playpause.194e84ef.png"),ee="data:image/png;base64,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Y2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjAzZWQxOGJkLTJkY2ItNDBjNC04MWNmLWFjNjc3ZjkzMWMxOCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplZGNkMjgwZi1kODQzLTQzYjctYjE1MC0wNTUxMTg0Mzc2ODUiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZWQwYTA1NS1lMjlhLTRmZDUtOGI5Yy04ZGY3YmRjMzJiOTUiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MzQyMTMwNjkyNzU0NzMiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6QmFnPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYTIyYTVjZS04MzY2LTQ2OGUtOWE4OC00M2U5M2JhNDkxMjMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIxLTEwLTE0VDE0OjA0OjI5KzAyOjAwIi8+CiAgICA8L3JkZjpCYWc+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Plg36jwAAAGFaUNDUElDQyBwcm9maWxlAAAokX2RPUjDQBzFX1ulUqsOdhBxyFCdLIiKiJNWoQgVQq3QqoPJpV/QpCFJcXEUXAsOfixWHVycdXVwFQTBDxA3NydFFynxf0mhRYwHx/14d+9x9w7w18tMNTvGAFWzjFQiLmSyq0LwFSH0ohsziErM1OdEMQnP8XUPH1/vYjzL+9yfo0fJmQzwCcSzTDcs4g3iqU1L57xPHGFFSSE+Jx416ILEj1yXXX7jXHDYzzMjRjo1TxwhFgptLLcxKxoq8SRxVFE1yvdnXFY4b3FWy1XWvCd/YTinrSxzneYQEljEEkQIkFFFCWVYiNGqkWIiRftxD/+g4xfJJZOrBEaOBVSgQnL84H/wu1szPzHuJoXjQOeLbX8MA8FdoFGz7e9j226cAIFn4Epr+St1YPqT9FpLix4BfdvAxXVLk/eAyx1g4EmXDMmRAjT9+TzwfkbflAX6b4HQmttbcx+nD0CaukreAAeHwEiBstc93t3V3tu/Z5r9/QCu53K/CvvZMQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UKDgwEHS5CH7oAAAFzSURBVEjH7Ze/SsNQGMXPuaZjB3VSEIcOKhZ8ieQWCo59AkFcdPYtOtqiD6B0Ubem+A4qOEglfYSKuqX0uDSlRocmpsE//aZLuMmPHzfflxPgrxdn9VzXdfeMMUeSnkke+r5/BwBO1qRKpbIiqQlgFwBIQtI5gC0AMFnCPM+rDYfDhwg21iU3o3Umhq7rrhpjGnHQV+VkYQWgCWBxmv2pgdVqdT0Mw1OSXpL70pwhrbX7YRjeJ4UlNhxZnQFwyXQd9QForV2TVAdgSRbjmweDAdKCPgFHsFuSS7OcNOMzlFSfNSz+0tg8ZqmZmAbFXIF51Rw4B/4ioKTXvA1vcgUaY44l9XMDttvtR5I7AFqSXn5ELk0SluLl+z5TB+FRcGok+ZxFwFRt0el0WsaYMoDr3KP+tLbfMozbFgqFbUlXuf/MeJ5XI3kCYHlmhnFbx3HKki4nr0t6itYLWfdZt9t9C4LgolQq9SRtkOwDOAiCoId/Ue93RIB5YcE6ZQAAAABJRU5ErkJggg==",te=function(){var e=Object(c.useState)(!0),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(b.a)(i,2),s=a[0],o=a[1],u=Object(c.useState)(!1),l=Object(b.a)(u,2),d=l[0],g=l[1],j=Object(c.useContext)(R).currentPost,A=Object(c.useRef)(),C=Object(c.useRef)();Object(c.useEffect)((function(){j.media.local?o(!1):o(!0),g(!1),r(!0)}),[j]);var I=function(){var e=1,t=function(){A.current.volume=e,C.current&&(C.current.volume=e)},n=function(t){e=Number((e+t).toFixed(1))};return{down:function(){0!==e&&(n(-.2),t())},up:function(){1!==e&&(n(.2),t())}}}();return d?Object(E.jsx)(X,{type:"contentError",confirm:function(){return g(!1)}}):Object(E.jsxs)("div",{className:"mediacontainer",children:[s||Object(E.jsx)(K,{type:"VIDEO"}),j.media.local?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("video",{ref:A,className:"video",style:{display:s?void 0:"none"},onLoadedData:function(){return o(!0)},onError:function(){return g(!0)},children:[Object(E.jsx)("source",{src:j.media.content.videourl,type:"video/".concat(j.media.content.format)}),"Sorry, your browser doesn't support embedded videos."]}),j.media.content.audiourl&&n&&Object(E.jsx)("audio",{ref:C,style:{display:"none"},onError:function(){return r(!1)},children:Object(E.jsx)("source",{src:j.media.content.audiourl,type:"audio/mp4"})}),Object(E.jsx)("button",{id:"playpause",onClick:function(){var e=!A.current.paused?"pause":"play";A.current[e](),C.current&&C.current[e]()},children:Object(E.jsx)("img",{src:$,alt:"Play and pause button"})}),Object(E.jsxs)("div",{id:"volumecontrols",children:[Object(E.jsxs)("button",{id:"volumeup",onClick:I.up,children:[Object(E.jsx)("img",{src:ee,alt:"Audio icon"}),Object(E.jsx)("p",{children:"+"})]}),Object(E.jsxs)("button",{id:"volumedown",onClick:I.down,children:[Object(E.jsx)("img",{src:ee,alt:"Audio icon"}),Object(E.jsx)("p",{children:"-"})]})]})]}):Object(E.jsx)("div",{className:"hostedvideo",dangerouslySetInnerHTML:{__html:j.media.content.html},style:{display:s?void 0:"none"}})]})},ne=(n(86),function(){var e=Object(c.useContext)(R).currentPost;return Object(E.jsx)("iframe",{title:e.title,src:e.media.content.url})}),ce=(n(87),function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),a=Object(b.a)(i,2),s=a[0],o=a[1],u=Object(A.f)(),g=Object(c.useContext)(R).currentPost,j=Object(Z.useMediaQuery)({query:"(hover: none)"}),C=Object(c.useCallback)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(g.url);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)}))),[g.url]);Object(c.useEffect)((function(){r(!1),o(null)}),[g]);return Object(E.jsxs)("div",{id:"comments",onClick:function(){s||C(),r((function(e){return!e}))},style:{height:n?"100%":"50px",overflowY:n?"scroll":"hidden"},children:[Object(E.jsx)("div",{id:"commentheader",children:"".concat(j?"Tap":"Click"," to ").concat(n?"close":"expand"," comments")}),Object(E.jsx)("div",{id:"commentcontainer",children:s?s.map((function(e,t){if(e.content&&e.author)return Object(E.jsxs)("div",{className:"commentbox",children:[Object(E.jsx)("div",{className:"commentcontent",children:Object(E.jsx)(H.a,{children:e.content})}),Object(E.jsx)("hr",{}),Object(E.jsx)("p",{className:"author",children:"- ".concat(e.author)})]},"comment".concat(t))})):!1===s?Object(E.jsx)(X,{type:"RedditError",confirm:function(){o(null),C()},cancel:function(){return u.push("/settings")}}):Object(E.jsx)(K,{type:"COMMENTS"})})]})}),re=function(e){var t=e.showContent,n=Object(c.useContext)(R).currentPost,r=Object(c.useState)(!1),i=Object(b.a)(r,2),a=i[0],s=i[1],o=Object(c.useState)(!1),u=Object(b.a)(o,2),l=u[0],d=u[1],g=z.every((function(e){return!n[e]})),j=Object(c.useMemo)((function(){return{NSFW:{visibility:a,confirm:function(){return s(!0)},deny:function(){return s(!1)}},spoiler:{visibility:l,confirm:function(){return d(!0)},deny:function(){return s(!1)}}}}),[a,l]);Object(c.useEffect)((function(){t&&!g&&z.forEach((function(e){t["".concat(e,"prompt")]||j[e].confirm()}))}),[g,j,t]),Object(c.useEffect)((function(){t&&!g&&z.forEach((function(e){t["".concat(e,"prompt")]&&j[e].deny()}))}),[n]);var A=function(){switch(n.media.type){case"image":return Object(E.jsx)(q,{currentImage:n.media.content,currentTitle:n.title});case"gallery":return Object(E.jsx)(_,{});case"text":return Object(E.jsx)("div",{className:"mediacontainer",children:Object(E.jsx)("div",{className:"textpost",children:(e=n.media.content.text,e.replace(/&#x200B;/g,"").replace(/\u00A0/g,"").split(/[\n]/).filter((function(e){return!!e&" "!==e}))).map((function(e){return Object(E.jsx)(H.a,{linkTarget:"_blank",children:e})}))})});case"video":return Object(E.jsx)(te,{});case"wikipedia":return Object(E.jsx)(ne,{});case"website":return Object(E.jsxs)("p",{children:["View external content at source"," ",Object(E.jsx)("a",{href:n.media.content.url,rel:"noreferrer",target:"_blank",children:"here"}),"."]});default:return Object(E.jsx)("p",{children:"Oops, I haven't got round to handling \"".concat(n.type,'" posts yet... Sorry!')})}var e},C=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(A,{}),Object(E.jsx)(ce,{})]})};return g||null!==a&&null!==l?Object(E.jsxs)("div",{id:"post",children:[Object(E.jsxs)("div",{className:"posttitle",children:[Object(E.jsxs)("div",{id:"likepercentage",style:{background:"linear-gradient(to top, lime, lime ".concat(n.controversiality,"%, red ").concat(n.controversiality,"%, red)")},children:[n.controversiality,"%"]}),Object(E.jsx)("h2",{children:n.title}),Object(E.jsx)("a",{id:"externallink",href:n.url,target:"_blank",rel:"noopener noreferrer",children:Object(E.jsx)("img",{id:"newwindowicon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAkklEQVRIie2VQQqAIBQFh+5QdKSuUsetRfs8SG2Mgur7UmvlgLjxvRERhcJLOsABqzF2lDUXlkAwWRBccEMNjF8JGmDymX3OJjjvfAbanIK7cimvCJ7KswiscglLkFxuCdTyqCN6s/MowcBxzxsrHCsA6IXyJIHKJV8llEn8LnB+Dj3Z1jPtMOjQ/oSnsfiOgs4GdhCGDgYn7KYAAAAASUVORK5CYII=",alt:"open link in a new window"})})]}),function(){if(g)return Object(E.jsx)(C,{});for(var e=0;e<z.length;e++)if(n[z[e]])return j[z[e]].visibility?Object(E.jsx)(C,{}):Object(E.jsx)(X,{type:z[e],confirm:j[z[e]].confirm})}()]}):null},ie=function(e){var t=e.welcomed,n=e.showContent,r=Object(c.useContext)(R),i=r.fetchingPosts,a=r.getNextPost,s=r.thisListFinished,o=r.currentPost,u=Object(A.f)(),l=Object(Z.useMediaQuery)({query:"(hover: none)"});return Object(E.jsx)("div",{id:"canvas",children:function(){if(i)return Object(E.jsx)(K,{type:"POSTS"});if(null===o)return Object(E.jsx)(X,{type:"RedditError",cancel:function(){return u.push("/settings")},confirm:a});if(s)return Object(E.jsx)(Y,{text:W});if(!t){var e=(c=l?"tap":"click",[{header:"New here?",body:[["Check the ",Object(E.jsx)(j.b,{to:"/about",children:"about"})," page, head straight to ",Object(E.jsx)(j.b,{to:"/settings",children:"settings"})," to customise your experience or simply ",c," a button below to get started \ud83d\udc47"]]}]);return Object(E.jsx)(Y,{text:e})}var c;return void 0===o?Object(E.jsx)("div",{children:"".concat(l?"Tap":"Click"," below to begin \ud83d\udc47")}):Object(E.jsx)(re,{showContent:n})}()})},ae=(n(90),n(25)),se=n.n(ae),oe=(n(92),n(93),function(e){var t=e.submitSuccess,n=e.isDifferent,c=e.cancel;return Object(E.jsxs)("div",{className:"formbuttons twobuttons",children:[Object(E.jsx)("div",{className:"submitsuccess extradetails",children:t?Object(E.jsx)("p",{className:"successtext",children:"Success!"}):!1===t?Object(E.jsx)("p",{className:"failuretext",children:"Oops, try again..."}):void 0===t?Object(E.jsx)("p",{children:"..."}):n?Object(E.jsx)("p",{className:"warning",children:"Warning: Unsaved changes will be lost"}):null}),Object(E.jsx)("button",{type:"button",disabled:!n,onClick:c,className:"cancel",children:"Discard all changes"}),Object(E.jsx)("button",{type:"submit",className:"submit",disabled:!n,children:"Save changes"})]})}),ue=function(e){var t=e.settings,n=e.updateFirebase,r=Object(c.useState)(null),i=Object(b.a)(r,2),a=i[0],o=i[1],u=Object(c.useState)(null),l=Object(b.a)(u,2),d=l[0],j=l[1],A=function(){var e=se.a.cloneDeep(t);o(e)};Object(c.useEffect)((function(){t&&A()}),[t]),Object(c.useEffect)((function(){j(null)}),[]);var C=function(e,t){o((function(n){return Object(g.a)(Object(g.a)({},n),{},Object(s.a)({},e,t))})),d&&j(null)},I=function(e){var t=e.type,n=function(e){var n="true"===e.target.value;C("".concat(t,"Prompt"),n)};return Object(E.jsxs)("fieldset",{className:"setting keyvaluepair",children:[Object(E.jsx)("div",{className:"legendcontainer",children:Object(E.jsx)("legend",{children:"Prompt before showing '".concat(t,"' posts:")})}),Object(E.jsxs)("div",{className:"radiovalues",children:[Object(E.jsxs)("label",{htmlFor:"".concat(t,"Prompt"),children:[Object(E.jsx)("input",{id:"".concat(t,"Prompt"),type:"radio",name:t,value:"true",checked:!0===a["".concat(t,"Prompt")],onChange:n}),"Yes"]}),Object(E.jsxs)("label",{htmlFor:"".concat(t,"noprompt"),children:[Object(E.jsx)("input",{id:"".concat(t,"noprompt"),type:"radio",name:t,value:"false",checked:!1===a["".concat(t,"Prompt")],onChange:n}),"No"]})]})]})};if(!a)return Object(E.jsx)("p",{children:"Loading your settings..."});var h=a.filter,f=a.limit,m=a.timeframe;return Object(E.jsxs)("form",{id:"usersettings",onSubmit:function(e){e.preventDefault(),j(void 0),n({type:"SETTINGS",data:a,setSubmitSuccess:j})},className:"settingsform",children:[Object(E.jsx)("legend",{className:"mainlegend",children:"General Settings"}),Object(E.jsxs)("div",{className:"setting",children:[Object(E.jsxs)("div",{className:"keyvaluepair",children:[Object(E.jsx)("label",{htmlFor:"filter",children:"Filter by:"}),Object(E.jsxs)("select",{id:"filterselect",name:"filter",onChange:function(e){return C("filter",e.target.value)},value:h,children:[Object(E.jsx)("option",{value:"top",children:"Top"}),Object(E.jsx)("option",{value:"hot",children:"Hot"}),Object(E.jsx)("option",{value:"best",children:"Best"}),Object(E.jsx)("option",{value:"new",children:"New"}),Object(E.jsx)("option",{value:"rising",children:"Rising"}),Object(E.jsx)("option",{value:"controversial",children:"Controversial"}),Object(E.jsx)("option",{value:"random",children:"Random"})]})]}),Object(E.jsx)("p",{className:"extradetails",children:"Show ".concat(function(){switch(h){case"top":return"the most popular content during your selected timeframe";case"hot":return"content which has recently been getting positive feedback";case"best":return"the highest rated content during your selected timeframe";case"new":return"the latest content (good or bad!)";case"rising":return"the content getting the most positive feedback right now";case"controversial":return"the most equally liked and disliked content";case"random":return"randomly selected content from within your other parameters"}}())})]}),Object(E.jsxs)("div",{className:"setting",children:[Object(E.jsxs)("div",{className:"keyvaluepair",children:[Object(E.jsx)("label",{htmlFor:"limit",children:"Content limit:"}),Object(E.jsxs)("div",{className:"numbercontainer",children:[Object(E.jsx)("input",{type:"number",id:"limitinput",name:"limit",min:"1",max:"100",value:f,onChange:function(e){var t=e.target.value;"0"!==t&&4!==t.length&&(+t>100&&(t="100"),""!==t&&+t<=0&&(t="1"),C("limit",t))},onBlur:function(e){e.target.value||C("limit",1)}}),Object(E.jsx)("p",{children:"(up to 100)"})]})]}),Object(E.jsx)("aside",{className:"extradetails warning",children:"Note: a higher limit may lead to longer loading times"})]}),Object(E.jsxs)("div",{className:"setting keyvaluepair",children:[Object(E.jsx)("label",{htmlFor:"timeframe",children:"Timeframe:"}),Object(E.jsxs)("select",{id:"timeframeselect",name:"timeframe",onChange:function(e){return C("timeframe",e.target.value)},value:m,children:[Object(E.jsx)("option",{value:"hour",children:"The last hour"}),Object(E.jsx)("option",{value:"day",children:"The last day"}),Object(E.jsx)("option",{value:"week",children:"The last week"}),Object(E.jsx)("option",{value:"month",children:"The last month"}),Object(E.jsx)("option",{value:"year",children:"The last year"}),Object(E.jsx)("option",{value:"all",children:"Forever"})]})]}),Object(E.jsx)(I,{type:"NSFW"}),Object(E.jsx)(I,{type:"spoiler"}),Object(E.jsx)(oe,{submitSuccess:d,isDifferent:!se.a.isEqual(a,t),cancel:A})]})},le=n(57),de=(n(94),n(95),function(e){var t=e.button,n=e.isDisabled,c=e.handleClick,r=Object(g.a)(Object(g.a)({},t.style),{},{fontFamily:'"'.concat(t.style.font,'", Verdana, sans-serif'),borderColor:"".concat(t.style.backgroundColor),background:"radial-gradient(ellipse at center, ".concat(t.style.backgroundColor,", ").concat(t.style.backgroundColor," 20%, #fff 80%, #fff 100%)")});return Object(E.jsx)("div",{className:"buttoncontainer",children:Object(E.jsx)("button",{type:"button",style:r,disabled:n,onClick:c,children:t.text||"..."})})}),ge=(n(96),function(e){var t=e.currentButton,n=e.editCurrentButton,r=e.deleteCurrentButtonSubreddit,i=e.deleteButton,a=e.cancel,o=e.modified,u=e.keepChanges,j=e.isDuplicate,A=Object(c.useState)(null),C=Object(b.a)(A,2),I=C[0],f=C[1],m=Object(c.useState)(null),O=Object(b.a)(m,2),p=O[0],x=O[1],v=Object(c.useState)(!1),y=Object(b.a)(v,2),w=y[0],N=y[1],k=Object(c.useState)(!1),F=Object(b.a)(k,2),R=F[0],T=F[1],M=Object(c.useRef)(),z=JSON.stringify(t.subreddits);Object(c.useEffect)((function(){var e={};t.subreddits.forEach((function(t){e[t.id]=null})),x(e)}),[]);var P=Object(c.useMemo)((function(){var e=!1;return t.subreddits.map((function(e){return e.name.toLowerCase()})).sort().reduce((function(t,n){return""!==n&&(t?(t===n&&(e=n),n):n)}),!1),e}),[z]),W=Object(c.useMemo)((function(){return!(!o||j||!t.text||t.text===L.text||!t.subreddits.length||P||function(){var e=!!p&&t.subreddits.map((function(e){return p[e.id]})).filter((function(e){return!!e}));return!!e.length&&e.some((function(e){return console.log(e),!e.attempt||!e.resolved||!e.exists}))}())}),[o,j,t.text,t.subreddits,P,p]);return Object(c.useEffect)((function(){R&&M.current&&(M.current.focus(),setTimeout((function(){return T(!1)}),0))}),[R,T]),Object(c.useEffect)((function(){if(I){var e=t.subreddits.find((function(e){return e.id===I}));if(""!==e.name&&e.name!==P){var n=!0;x((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(s.a)({},I,{attempt:e.name,attempted:!1,resolved:!1}))}));var c=setTimeout(Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(s.a)({},I,Object(g.a)(Object(g.a)({},e[I]),{},{attempted:!0})))})),t.prev=1,t.next=4,h(e.name);case 4:c=t.sent,n&&x((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(s.a)({},I,Object(g.a)(Object(g.a)({},e[I]),{},{resolved:!0},c)))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),800);return function(){clearTimeout(c),n=!1}}}}),[I,z]),Object(E.jsxs)("div",{className:"buttoneditorform",children:[Object(E.jsxs)("fieldset",{children:[Object(E.jsx)("legend",{className:"sublegend",children:"Style"}),Object(E.jsxs)("div",{className:"buttonstyle",children:[Object(E.jsxs)("div",{className:"setting",children:[Object(E.jsxs)("div",{className:"keyvaluepair",children:[Object(E.jsx)("label",{children:"Name:"}),Object(E.jsx)("input",{type:"text",value:t.text===L.text?"":t.text,maxLength:"12",placeholder:"Add button text...",onChange:function(e){var c=e.target.value,r=c.slice(0,1).toUpperCase()+c.slice(1);n({buttonId:t.id,value:r,param:"text"}),w||N(!0)}})]}),j&&Object(E.jsx)("p",{className:"extradetails warning",children:"Button name already exists!"})]}),Object(E.jsxs)("div",{className:"setting keyvaluepair",children:[Object(E.jsx)("label",{htmlFor:"font",children:"Font:"}),Object(E.jsx)("select",{className:"fontselect",name:"font",onChange:function(e){n({buttonId:t.id,value:e.target.value,param:"style",subparam:"font"})},value:t.style.font,style:{fontFamily:t.style.font},children:D.map((function(e){return Object(E.jsx)("option",{value:e,style:{fontFamily:e},children:e},e)}))})]}),Object(E.jsxs)("div",{className:"setting keyvaluepair",children:[Object(E.jsx)("label",{children:"Text Colour:"}),Object(E.jsx)("div",{className:"colorcontainer",children:Object(E.jsx)("input",{type:"color",value:t.style.color,onInput:function(e){n({buttonId:t.id,value:e.target.value,param:"style",subparam:"color"}),w||N(!0)}})})]}),Object(E.jsxs)("div",{className:"setting keyvaluepair",children:[Object(E.jsx)("label",{children:"Background Color:"}),Object(E.jsx)("div",{className:"colorcontainer",children:Object(E.jsx)("input",{type:"color",value:t.style.backgroundColor,onInput:function(e){n({buttonId:t.id,value:e.target.value,param:"style",subparam:"backgroundColor"}),w||N(!0)}})})]})]})]}),Object(E.jsxs)("fieldset",{children:[Object(E.jsx)("legend",{className:"sublegend",children:"Subreddits:"}),Object(E.jsxs)("div",{className:"subredditlist",children:[t.subreddits.map((function(e,c){var i=!!p&&p[e.id],a=e.name.toLowerCase()===P;return Object(E.jsxs)("div",{className:"subredditlistitem",children:[Object(E.jsx)("div",{className:"deletesubredditcontainer",children:Object(E.jsx)("button",{type:"button",className:"delete",onClick:function(){return n=e.id,r(t.id,n),f(null),void x((function(e){var t=Object(g.a)({},e);return delete t[n],t}));var n},children:"\u2715"},"delete".concat(e.name))}),Object(E.jsxs)("div",{className:"subredditname",children:[Object(E.jsx)("p",{children:"r/"}),Object(E.jsx)("input",{className:"subredditinput",type:"text",value:e.name,onChange:function(c){n({buttonId:t.id,value:c.target.value.toLowerCase(),subredditId:e.id}),f(e.id)},placeholder:"Add a subreddit...",ref:R&&c===t.subreddits.length-1?M:void 0})]},"subreddit".concat(c)),Object(E.jsx)("div",{className:"icon",children:a?Object(E.jsx)("div",{className:"duplicatesubredditalert",children:Object(E.jsx)("div",{className:"exclamationcontainer",children:Object(E.jsx)("p",{children:"!"})})}):i?i.attempted?i.resolved?i.exists?i.icon?Object(E.jsx)("img",{className:"subredditicon",src:p[e.id].icon,alt:p[e.id].subtitle}):Object(E.jsx)("p",{children:"\ud83d\ude42"}):Object(E.jsx)("p",{children:"\ud83d\ude41"}):Object(E.jsx)("p",{children:"..."}):null:Object(E.jsx)("p",{children:"\ud83d\ude42"})}),a?Object(E.jsx)("div",{className:"extradetails subredditdetails",children:Object(E.jsx)("p",{className:"warning",children:"Duplicate subreddit"})}):!!i&&i.exists&&Object(E.jsxs)("div",{className:"extradetails subredditdetails",children:[Object(E.jsx)("p",{children:p[e.id].subreddit}),p[e.id].subreddit.toLowerCase()!==p[e.id].subtitle.toLowerCase()&&Object(E.jsx)("p",{children:p[e.id].subtitle})]})]},t.id+e.id)})),t.subreddits.length<3&&Object(E.jsx)("div",{className:"subredditlistitem newsubreddit",children:Object(E.jsxs)("div",{className:"subredditname",children:[Object(E.jsx)("p",{children:"r/"}),Object(E.jsx)("input",{type:"text",onChange:function(e){var c=S();f(c),n({buttonId:t.id,value:e.target.value.toLowerCase(),subredditId:c}),T(!0)},value:"",placeholder:"Add a subreddit..."})]})})]})]}),Object(E.jsxs)("div",{className:"formbuttons threebuttons",children:[Object(E.jsx)("button",{type:"button",onClick:a,className:"cancel",children:"Cancel"}),Object(E.jsx)("button",{type:"button",onClick:function(){return i(t.id)},disabled:t.text===L.text,className:"delete",children:"Delete Button"}),Object(E.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),u()},disabled:!W,className:"submit",children:"Confirm changes"})]})]})}),be=["id"],je=function(e){var t=e.buttons,n=e.updateFirebase,r=Object(c.useState)(null),i=Object(b.a)(r,2),a=i[0],u=i[1],l=Object(c.useState)(null),d=Object(b.a)(l,2),j=d[0],A=d[1],C=Object(c.useState)(null),I=Object(b.a)(C,2),h=I[0],f=I[1],m=Object(c.useState)(null),O=Object(b.a)(m,2),p=O[0],x=O[1],v=Object(Z.useMediaQuery)({query:"(hover: none)"}),y=JSON.stringify(t),w=JSON.stringify(j),N=function(e){return Object(g.a)(Object(g.a)({},se.a.cloneDeep(L)),{},{id:e||S()})},k=function(e,t){return e.findIndex((function(e){return e.id===t}))},R=function(e){var t=function(e){e.id;var t=Object(le.a)(e,be);return Object(g.a)(Object(g.a)({},t),{},{subreddits:e.subreddits.map((function(e){e.id;return e.name}))})};return e.length?e.slice(0,-1).map((function(e){return t(e)})):t(e)};Object(c.useEffect)((function(){u(null)}),[]);var T=function(){var e=[].concat(Object(o.a)(se.a.cloneDeep(t).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{id:S(),subreddits:e.subreddits.map((function(e){return{name:e,id:S()}}))})}))),[N()]);F((function(){return e}),A,f);F((function(){var e={};return t.forEach((function(t){return e[t.id]=!1})),e}),x)},D=function(e){x((function(t){var n=Object(g.a)({},t);return n[e]=!t[e],n})),a&&u(null)},M=function(e){p[e]&&f((function(t){var n=Object(o.a)(t),c=t.findIndex((function(t){return t.id===e}));return n[c]=se.a.cloneDeep(j[c]),n})),D(e)};Object(c.useEffect)((function(){t&&T()}),[y]),Object(c.useEffect)((function(){if(h){var e=h[h.length-1];if(e.text!==L.text&&!0!==p[e.id]){var t=S();F((function(e){return[].concat(Object(o.a)(e),[N(t)])}),f,A);F((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(s.a)({},t,!1))}),x)}}}),[p,h]);var z=function(e){var t=e.buttonId,n=e.value,c=e.param,r=e.subparam,i=e.subredditId;f((function(e){var a=se.a.cloneDeep(e),s=k(a,t);if(r)a[s][c][r]=n;else if(i&&!c){var o=k(a[s].subreddits,i);o>=0?a[s].subreddits[o]=Object(g.a)(Object(g.a)({},a[o].subreddits[o]),{},{name:n,id:i}):a[s].subreddits.push({name:n,id:i})}else a[s][c]=n;return a})),a&&u(null)},P=function(e,t){f((function(n){var c=Object(o.a)(n),r=k(c,e);return c[r].subreddits=c[r].subreddits.filter((function(e){return e.id!==t})),c}))},W=function(e){F((function(t){return t.filter((function(t){return t.id!==e}))}),f,A);F((function(t){var n=Object(g.a)({},t);return delete n[e],n}),x),a&&u(null)},U=Object(c.useMemo)((function(){if(j)return R(j)}),[w]),B=Object(c.useMemo)((function(){if(j)return!se.a.isEqual(U,t)}),[y,w,U]);return h?Object(E.jsxs)("form",{id:"userbuttonsettings",onSubmit:function(e){e.preventDefault(),u(void 0),n({type:"BUTTONS",data:U,setSubmitSuccess:u})},className:"settingsform",children:[Object(E.jsx)("legend",{className:"mainlegend",children:"Button Settings"}),Object(E.jsx)("p",{className:"extradetails bold clickinstruction",children:"".concat(v?"Tap":"Click"," a button to edit")}),Object(E.jsxs)("aside",{className:"extradetails",children:["New to Reddit? Check"," ",Object(E.jsx)("a",{href:"https://www.reddit.com/r/ListOfSubreddits/wiki/listofsubreddits",target:"_blank",rel:"noreferrer",children:"this directory"})," ","for inspiration for subreddits!"]}),h.map((function(e,n){var c=function(){return function(e){var t=k(h,e);A((function(e){if(t<0)return[].concat(Object(o.a)(e),[se.a.cloneDeep(h[h.length-1])]);var n=Object(o.a)(e);return n[t]=se.a.cloneDeep(h[t]),n})),D(e)}(e.id)},r=e.text===L.text;return Object(E.jsxs)("div",{className:"editbutton".concat(r?" editnewbutton":""),children:[Object(E.jsx)(de,{button:e,handleClick:function(){return M(e.id)}},"button".concat(e.id).concat(n)),p&&p[e.id]&&function(){var r,i=t[n],a=R(e),s=!se.a.isEqual(a,i);return Object(E.jsx)(ge,{currentButton:e,editCurrentButton:z,deleteCurrentButtonSubreddit:P,deleteButton:W,cancel:function(){return M(e.id)},modified:s,keepChanges:c,isDuplicate:(r=e.text,h.filter((function(e){return e.text===r})).length>1)},"editor".concat(e.id).concat(n))}()]},e.id)})),Object(E.jsx)(oe,{submitSuccess:a,isDifferent:B,cancel:T})]}):Object(E.jsx)("p",{children:"Loading your buttons..."})},Ae=function(e){var t=e.resetAllData,n=e.uid,r=e.settings,i=e.setSettings,a=e.buttons,s=e.setButtons,o=Object(A.f)(),u=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var c,r,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.type,r=t.data,a=t.setSubmitSuccess,o="SETTINGS"===c?"userSettings":"userButtons",u="SETTINGS"===c?i:s,e.next=5,N[o](n,r);case 5:if(e.sent){e.next=9;break}return a(!1),e.abrupt("return");case 9:u(r),a(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,i,n]);return Object(O.b)().currentUser?r&&a&&n?Object(E.jsxs)("div",{id:"settingscontainer",children:[Object(E.jsx)("div",{className:"signout",children:Object(E.jsxs)("p",{children:["Click"," ",Object(E.jsx)("span",{onClick:function(){t(),o.push("/"),Object(O.e)(Object(O.b)())},className:"link",children:"here"})," ","to sign out of your account"]})}),Object(E.jsx)(ue,{settings:r,updateFirebase:u}),Object(E.jsx)(je,{buttons:a,updateFirebase:u})]}):Object(E.jsx)("p",{children:"Loading your settings..."}):Object(E.jsxs)("p",{children:["Please"," ",Object(E.jsx)("span",{className:"link",onClick:y,children:"sign in"})," ","to change your settings"]})},Ce=(n(97),function(e){var t=e.buttons,n=Object(c.useState)(0),r=Object(b.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)(null),u=Object(b.a)(s,2),l=u[0],d=u[1],g=Object(c.useState)({height:window.innerHeight,width:window.innerWidth}),j=Object(b.a)(g,2),A=j[0],C=j[1],I=Object(c.useContext)(R),h=I.getNextPost,f=I.finishedLists;Object(c.useEffect)((function(){a(0)}),[t]),Object(c.useEffect)((function(){var e=function(){C({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);for(var m=[],O=0;O<M.length;O++)m.push(Object(Z.useMediaQuery)({query:"(min-width: ".concat(M[O],"px)")}));var p=m.indexOf(!1),x=-1===p?M.length:p,v=t&&Math.min(x,t.length),y=t&&t.length>v;return Object(c.useEffect)((function(){if(void 0!==t){if(null===t)return Object(E.jsx)("p",{children:"Oops no buttons!"});if(i+v<=t.length)d(Object(o.a)(t).splice(i,v));else{var e=t.slice(i),n=Object(o.a)(t).splice(0,v-e.length);d([].concat(Object(o.a)(e),Object(o.a)(n)))}}}),[i,v,t]),t?Object(E.jsxs)("div",{id:"buttonbox",style:{gridTemplateColumns:"".concat(y?"1fr ":"","repeat(").concat(v,", 4fr)").concat(y?" 1fr":"")},children:[y&&Object(E.jsx)("button",{type:"button",className:"buttonnav left",onClick:function(){a(i-1>=0?i-1:t.length-1)},children:"\u25c4"}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(E.jsx)(de,{button:e,isDisabled:f[e.text],handleClick:function(){h({subreddits:e.subreddits,category:e.text})}},"button".concat(e.id).concat(t))})),y&&Object(E.jsx)("button",{type:"button",className:"buttonnav right",onClick:function(){a((i+l.length)%t.length)},children:"\u25ba"})]},"".concat(A.width,"x").concat(A.height)):Object(E.jsx)(K,{type:"BUTTONS"})}),Ie=Object(c.memo)(Ce);var he=function(){var e=Object(c.useState)({initialized:!1,observed:!1}),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(void 0),a=Object(b.a)(i,2),u=a[0],I=a[1],h=Object(c.useState)(void 0),f=Object(b.a)(h,2),m=f[0],x=f[1],v=Object(c.useState)(void 0),y=Object(b.a)(v,2),N=y[0],S=y[1],F=Object(c.useState)(!1),D=Object(b.a)(F,2),L=D[0],M=D[1],z=Object(c.useState)(!1),P=Object(b.a)(z,2),W=P[0],U=P[1],B=Object(c.useState)(void 0),J=Object(b.a)(B,2),G=J[0],Y=J[1],Z=Object(c.useState)(void 0),X=Object(b.a)(Z,2),H=X[0],Q=X[1],K=Object(c.useState)({}),q=Object(b.a)(K,2),_=q[0],$=q[1],ee=Object(c.useCallback)((function(){W||U(!0)}),[W]),te=Object(c.useCallback)((function(){[{state:m,setState:x},{state:N,setState:S},{state:H,setState:Q},{state:G,setState:Y}].forEach((function(e){e.state&&e.setState(void 0)}))}),[m,G,H,N]),ne=function(e){I(e?function(){return Object(g.a)(Object(g.a)({},e),{},{displayName:e.displayName.split(" ")})}:void 0)};Object(c.useEffect)((function(){!n.initialized&&p&&r((function(e){return Object(g.a)(Object(g.a)({},e),{},{initialized:!0})}))}),[n.initialized]),Object(c.useEffect)((function(){var e;n.initialized&&!n.observed&&(e=ne,Object(O.c)(Object(O.b)(),e),r((function(e){return Object(g.a)(Object(g.a)({},e),{},{observed:!0})})))}),[n]);var ce=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(),c=!0,e.next=4,t(n);case 4:if(r=e.sent,!c){e.next=12;break}if(!r){e.next=10;break}return S(r.settings),x(r.buttons),e.abrupt("return");case 10:S(null),x(null);case 12:return e.abrupt("return",(function(){return c=!1}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[te]);Object(c.useEffect)((function(){u?ce(w.userData,u.uid):ce(w.defaults)}),[u]);var re=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return!!G&&!!H&&!!H[e]}),[G,H]),ae=Object(c.useCallback)(Object(d.a)(l.a.mark((function e(){var t,n,c,r,i,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{subreddits:m.find((function(e){return e.text===G})).subreddits,category:G},n=t.subreddits,c=t.category,r=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r,i,a,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(Object(g.a)(Object(g.a)({},N),{},{subreddit:t}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee(),r=[],i=0;case 4:if(!(i<t.length)){e.next=14;break}return e.next=7,c(t[i]);case 7:if(a=e.sent){e.next=10;break}return e.abrupt("continue",11);case 10:r=[].concat(Object(o.a)(r),Object(o.a)(a));case 11:i++,e.next=4;break;case 14:if(r.length){e.next=17;break}return Q(null),e.abrupt("return",!1);case 17:return u=k(r),Q((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(s.a)({},n,{list:u,index:0}))})),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c!==G&&Y(c),re(c)||L){e.next=10;break}return M(!0),e.next=7,r(n,c);case 7:M(!1),e.next=11;break;case 10:re(c)&&(H[c].index===H[c].list.length-1?$((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(s.a)({},c,!0))})):(i=function(e){Q((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(s.a)({},e,Object(g.a)(Object(g.a)({},t[e]),{},{index:t[e].index+1})))}))},i(c)));case 11:return e.abrupt("return",(function(){return M(!1)}));case 12:case"end":return e.stop()}}),e)}))),[G,re,L,ee,N,H]),se={getNextPost:ae,currentPost:null===H?null:re()?H[G].list[H[G].index]:void 0,fetchingPosts:L,finishedLists:_,thisListFinished:_[G]};return Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)(j.a,{children:[Object(E.jsx)(T,{user:u,confirmWelcomed:ee}),Object(E.jsx)(R.Provider,{value:se,children:Object(E.jsx)("main",{children:Object(E.jsxs)(A.c,{children:[Object(E.jsx)(A.a,{exact:!0,path:"/",children:Object(E.jsxs)("div",{id:"appcontainer",children:[Object(E.jsx)(ie,{welcomed:W,showContent:N&&{NSFWprompt:N.NSFWPrompt,spoilerPrompt:N.spoilerPrompt}}),Object(E.jsx)(Ie,{buttons:m})]})}),Object(E.jsx)(A.a,{path:"/about",children:Object(E.jsx)(V,{})}),Object(E.jsx)(A.a,{path:"/settings",children:Object(E.jsx)(Ae,{resetAllData:te,uid:u&&u.uid,settings:N,setSettings:S,buttons:m,setButtons:x})})]})})})]})})};n(98);a.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(he,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.6ddae859.chunk.js.map