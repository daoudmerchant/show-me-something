{"version":3,"sources":["API/reddit.js","API/firebase.js","utils.js","constants/contexts.js","components/NavBar.js","constants/variables.js","constants/sitetext.js","components/Info.js","components/About.js","components/Prompt.js","components/Snoo.js","components/Loading.js","components/mediaPosts/Image.js","components/mediaPosts/Gallery.js","images/playpause.png","images/audio-icon.png","components/mediaPosts/Video.js","components/mediaPosts/Wikipedia.js","components/Comments.js","components/Post.js","images/newwindow.png","components/Canvas.js","components/FormButtons.js","components/UserSettings.js","components/Button.js","components/ButtonEditor.js","components/ButtonSettings.js","components/Settings.js","components/ButtonBox.js","App.js","index.tsx"],"names":["getRedditData","a","subreddit","limit","timeframe","filter","fetch","json","data","parsedData","children","map","child","title","text","selftext","upvotes","ups","downvotes","downs","controversiality","parseInt","upvote_ratio","id","NSFW","over_18","spoiler","url","permalink","slice","media","post_hint","includes","console","log","type","local","content","videourl","audiourl","width","thumbnail_width","height","thumbnail_height","format","videoUrl","reddit_video","fallback_url","split","concat","html","oembed","images","preview","resolutions","fallback","is_gallery","gallery","gallery_data","items","item","media_id","key","media_metadata","p","img","u","x","y","textPostData","undefined","error","getCommentData","comments","comment","body","author","isMod","distinguished","isSubmitter","is_submitter","checkSubredditExists","exists","display_name","subtitle","icon","icon_img","header_img","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","getAuth","code","signInWithRedirect","getData","defaultData","defaults","defaultRef","doc","getDoc","defaultSnap","userData","UID","docRef","docSnap","usersRef","collection","setDoc","updateData","_updateParam","uid","object","userRef","updateDoc","userSettings","settings","userButtons","buttons","shuffleArray","array","shuffledArray","i","length","j","Math","floor","random","getId","fireCallbacks","cb","fns","forEach","fn","RedditPostContext","createContext","NavBar","user","confirmWelcomed","useState","canGetPic","setCanGetPic","exact","to","activeClassName","onClick","className","displayName","name","nameId","photoURL","src","alt","onError","FONTS","DEFAULT_BUTTON","style","color","backgroundColor","font","subreddits","BREAKPOINTS","FLAGS","ABOUT","header","href","target","rel","FINISHED","Bold","Important","flagWarning","PROMPT","emoji","help","question","answer","confirmation","RedditError","cancellation","contentError","Info","paragraph","phrase","Array","isArray","subphrase","k","subsubphrase","l","About","Prompt","confirm","cancel","getNextPost","useContext","promptText","stopPropagation","e","onSubmit","preventDefault","Snoo","spinning","Loading","loadingData","Image","currentImage","currentTitle","isLoaded","setIsLoaded","failed","setFailed","useEffect","aspectRatio","display","srcSet","image","join","onLoad","Gallery","galleryIndex","setGalleryIndex","currentPost","prev","Video","hasAudio","setHasAudio","vidRef","useRef","audioRef","audioVolume","volume","_setVolumes","current","_updateVolume","increment","Number","toFixed","down","up","ref","onLoadedData","playOrPause","paused","PlayPause","AudioIcon","dangerouslySetInnerHTML","__html","Wikipedia","Comments","clicked","setClicked","setComments","history","useHistory","isTouchscreen","useMediaQuery","query","getComments","useCallback","postComments","prevClicked","overflowY","push","Post","showContent","NSFWvisible","setNSFWVisible","spoilerVisible","setSpoilerVisible","postHasNoFlags","every","flag","postVisibility","useMemo","visibility","deny","Content","string","replace","linkTarget","PostBody","background","Canvas","welcomed","fetchingPosts","thisListFinished","WELCOME_TEXT","clickOrTap","FormButtons","submitSuccess","isDifferent","disabled","UserSettings","updateFirebase","currentSettings","setCurrentSettings","setSubmitSuccess","resetSettings","clonedSettings","_","cloneDeep","handleFormChange","category","value","prevSettings","BooleanOptions","reportRadioChange","booleanValue","htmlFor","checked","onChange","min","max","onBlur","isEqual","Button","button","isDisabled","handleClick","fontFamily","borderColor","ButtonEditor","currentButton","editCurrentButton","deleteCurrentButtonSubreddit","deleteButton","modified","keepChanges","isDuplicate","checkingSubreddit","setCheckingSubreddit","subredditValidity","setSubredditValidity","edited","setEdited","newSubredditAdded","setNewSubredditAdded","lastSubredditRef","subredditsJSON","JSON","stringify","blankValidity","duplicateSubreddit","duplicate","toLowerCase","sort","reduce","prevSubreddit","thisSubreddit","isValidEdit","currentValidityChecks","validity","some","attempt","resolved","focus","setTimeout","currentSubreddit","find","isSubscribed","prevValidity","attempted","timeout","subredditIsValid","alert","clearTimeout","maxLength","placeholder","textValue","toUpperCase","buttonId","param","subparam","onInput","thisSubredditValidity","subredditIsDuplicate","subredditId","prevSubredditValidity","newSubredditValidity","newId","ButtonSettings","referenceButtons","setReferenceButtons","currentButtons","setCurrentButtons","buttonsBeingEdited","setButtonsBeingEdited","JSONbuttons","JSONreferenceButtons","getNewButton","findItemIndex","findIndex","obj","stripButton_s","button_s","_stripButton","restOfButton","resetAll","defaultButtons","toggleButtonBeingEdited","prevButtonsBeingEdited","newButtonsBeingEdited","toggleButtonEdit","prevButtons","newButtons","buttonIndex","lastCurrentButton","editedButtonIndex","editedSubredditIndex","prevObj","newObj","strippedButtons","containsNewButtons","editedIndex","confirmChanges","isNewButton","originalButton","strippedCurrentButton","Settings","resetAllData","setSettings","setButtons","dataCategory","setUserState","currentUser","signOut","document","scrollTop","documentElement","ButtonBox","firstButtonIndex","setFirstButtonIndex","window","innerHeight","innerWidth","dimensions","setDimensions","finishedLists","handleResize","addEventListener","removeEventListener","breakpointQueries","currentBreakpoint","indexOf","maxButtonCount","buttonCount","needsNavigation","splice","startButtons","endButtons","gridTemplateColumns","memo","App","initialized","observed","firebaseReady","setFirebaseReady","setUser","setFetchingPosts","setWelcomed","currentCategory","setCurrentCategory","redditLists","setRedditLists","setFinishedLists","state","setState","dataset","authStateObserver","prevStatus","observer","onAuthStateChanged","getFirebaseData","arg","categoryExists","refreshRedditList","getSubredditList","redditResponse","subredditLists","subredditList","randomisedSubredditLists","prevLists","list","index","incrementIndex","RedditContextValue","Provider","path","NSFWprompt","NSFWPrompt","spoilerPrompt","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.328e06a7.chunk.js","sourcesContent":["export const getRedditData = async ({\n  subreddit,\n  limit,\n  timeframe,\n  filter,\n}) => {\n  try {\n    const data = await (\n      await fetch(\n        `https://www.reddit.com/r/${subreddit}/${filter}.json?limit=${\n          // TODO: Work out if it's pulling random amounts because\n          // of me or because of Reddit\n          limit\n        }&t=${timeframe}&raw_json=1`\n      )\n    ).json();\n    const parsedData = data.data.children.map((child) => ({\n      title: child.data.title,\n      text: child.data.selftext,\n      subreddit: child.data.subreddit,\n      upvotes: child.data.ups,\n      downvotes: child.data.downs,\n      controversiality: parseInt(child.data.upvote_ratio * 100),\n      id: child.data.id,\n      NSFW: child.data.over_18,\n      spoiler: child.data.spoiler,\n      url: `https://www.reddit.com${child.data.permalink.slice(0, -1)}`,\n      media: (() => {\n        if (child.data.post_hint === \"link\") {\n          // Linked content\n          if (child.data.url.includes(\"v.redd.it\")) {\n            // Reddit video crosspost\n            console.log(child.data);\n            return {\n              type: \"video\",\n              local: true,\n              content: {\n                videourl: child.data.url + \"/DASH_720.mp4\",\n                audiourl: child.data.url + \"/DASH_audio.mp4\",\n                width: child.data.thumbnail_width,\n                height: child.data.thumbnail_height,\n                format: \"mp4\",\n              },\n            };\n          }\n          if (child.data.url.includes(\"i.imgur.com\")) {\n            // Imgur\n            if (child.data.url.slice(-4) === \"gifv\") {\n              // Gif (video)\n              return {\n                type: \"video\",\n                local: true,\n                content: {\n                  videourl: child.data.url.slice(0, -4) + \"mp4\",\n                  width: child.data.thumbnail_width,\n                  height: child.data.thumbnail_height,\n                  format: \"mp4\",\n                },\n              };\n            }\n            console.log(`Untreated Imgur content ${child.data.url}`);\n            console.log(child.data);\n          }\n          if (child.data.url.includes(\"wikipedia\")) {\n            return {\n              type: \"wikipedia\",\n              content: {\n                url: child.data.url,\n              },\n            };\n          }\n          return {\n            type: \"website\",\n            content: {\n              url: child.data.url,\n            },\n          };\n        }\n        if (child.data.post_hint === \"hosted:video\") {\n          console.log(child.data);\n          const videoUrl = child.data.media.reddit_video.fallback_url.slice(\n            0,\n            -16\n          );\n          return {\n            type: \"video\",\n            local: true,\n            content: {\n              videourl: videoUrl,\n              audiourl: videoUrl.split(\"DASH\")[0].concat(\"DASH_audio.mp4\"),\n              width: child.data.media.reddit_video.width,\n              height: child.data.media.reddit_video.height,\n              format: \"mp4\",\n            },\n          };\n        }\n        if (child.data.post_hint === \"rich:video\") {\n          // linked video\n          // console.log(child.data);\n          return {\n            type: \"video\",\n            local: false,\n            content: {\n              html: child.data.media.oembed.html,\n              width: child.data.media.oembed.thumbnail_width,\n              height: child.data.media.oembed.thumbnail_height,\n            },\n          };\n        }\n        if (child.data.post_hint === \"image\") {\n          return {\n            type: \"image\",\n            content: {\n              // thumbnail: {\n              //   url: child.data.thumbnail,\n              //   width: child.data.thumbnail_width,\n              //   height: child.data.thumbnail_height,\n              // },\n              width: child.data.thumbnail_width,\n              height: child.data.thumbnail_height,\n              images: child.data.preview.images[0].resolutions,\n              fallback: child.data.url,\n            },\n          };\n        }\n        if (child.data.is_gallery) {\n          // Reddit image gallery\n          const galleryKeys = child.data.gallery_data.items.map(\n            (item) => item.media_id\n          );\n          return {\n            type: \"gallery\",\n            content: {\n              gallery: galleryKeys.map((key) => ({\n                images: child.data.media_metadata[key].p.map((img) => ({\n                  url: img.u,\n                  width: img.x,\n                  height: img.y,\n                })),\n              })),\n            },\n          };\n        }\n        const textPostData = {\n          type: \"text\",\n          content: {\n            text: child.data.selftext,\n          },\n        };\n        if (child.data.post_hint === \"self\") {\n          return textPostData;\n        }\n        if (child.data.post_hint === undefined) {\n          if (child.data.url.includes(\"reddit\")) {\n            return textPostData;\n          }\n          if (child.data.url.includes(\"wikipedia\")) {\n            return {\n              type: \"wikipedia\",\n              content: {\n                url: child.data.url,\n              },\n            };\n          }\n          return {\n            type: \"website\",\n            content: {\n              url: child.data.url,\n            },\n          };\n        }\n        console.log(`Untreated case ${child.data.post_hint}!`);\n        console.log(child.data);\n      })(),\n    }));\n    return parsedData;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n};\n\nexport const getCommentData = async (url) => {\n  try {\n    const data = await (await fetch(`${url}.json`)).json();\n    const comments = data[1].data.children;\n    return comments\n      .map((comment) => ({\n        content: comment.data.body,\n        author: comment.data.author,\n        isMod: comment.data.distinguished === \"moderator\",\n        isSubmitter: comment.data.is_submitter,\n        controversiality: comment.data.controversiality,\n        upvotes: comment.data.ups,\n        downvotes: comment.data.downs,\n      }))\n      .filter((comment) => !comment.isMod);\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const checkSubredditExists = async (subreddit) => {\n  try {\n    const data = await (\n      await fetch(`https://www.reddit.com/r/${subreddit}/about.json`)\n    ).json();\n    return {\n      exists: true,\n      subreddit: data.data.display_name,\n      subtitle: data.data.title,\n      icon: data.data.icon_img || data.data.header_img || null,\n    };\n  } catch (error) {\n    console.log(error);\n    return {\n      exists: false,\n    };\n  }\n};\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport {\n  getFirestore,\n  collection,\n  getDoc,\n  setDoc,\n  updateDoc,\n  doc,\n} from \"firebase/firestore\";\nimport {\n  getAuth,\n  signInWithPopup,\n  signInWithRedirect,\n  GoogleAuthProvider,\n  signOut,\n  onAuthStateChanged,\n} from \"firebase/auth\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDDshwp4uVe8mvpSX8dhbKG0qgs95CodwE\",\n  authDomain: \"showmesomething-a0ee0.firebaseapp.com\",\n  projectId: \"showmesomething-a0ee0\",\n  storageBucket: \"showmesomething-a0ee0.appspot.com\",\n  messagingSenderId: \"201296462781\",\n  appId: \"1:201296462781:web:118f67e3cdd9961e42c8d4\",\n  measurementId: \"G-P6C3YY8M9V\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nexport const getInitStatus = () => !!app;\n\n// Authenticate\nconst provider = new GoogleAuthProvider();\nexport const signInWithGoogle = async () => {\n  try {\n    // const result =\n    await signInWithPopup(getAuth(), provider);\n    // const credential = GoogleAuthProvider.credentialFromResult(result);\n    // const token = credential.accessToken;\n    // const user = result.user;\n  } catch (error) {\n    if (error.code === \"auth/popup-blocked\") {\n      try {\n        await signInWithRedirect(getAuth(), provider);\n      } catch (error) {\n        console.log(error);\n      }\n      return;\n    }\n    console.log(error);\n    // const errorCode = error.code;\n    // const errorMessage = error.message;\n    // const email = error.email;\n    // const credential = GoogleAuthProvider.credentialFromError(error);\n  }\n};\n\nexport const signOutWithGoogle = () => {\n  signOut(getAuth());\n};\n\nexport const isSignedIn = () => !!getAuth().currentUser;\n\nexport const initFirebaseAuth = (observer) => {\n  onAuthStateChanged(getAuth(), observer);\n};\n\nexport const getData = (() => {\n  let defaultData;\n  const defaults = async () => {\n    if (!!defaultData) return defaultData;\n    try {\n      const defaultRef = doc(db, \"app\", \"defaults\");\n      const defaultSnap = await getDoc(defaultRef);\n      defaultData = defaultSnap.data();\n      return defaultData;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const userData = async (UID) => {\n    const docRef = doc(db, \"users\", UID);\n    try {\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        return docSnap.data();\n      } else {\n        // new user\n        // write defaults to user document\n        // (would be a Cloud Function if not a free user)\n        const usersRef = collection(db, \"users\");\n        await setDoc(doc(usersRef, UID), defaultData);\n        return defaultData;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return {\n    defaults,\n    userData,\n  };\n})();\n\nexport const updateData = (() => {\n  const _updateParam = async (uid, object) => {\n    const userRef = doc(db, \"users\", uid);\n    try {\n      await updateDoc(userRef, object);\n      return true;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n  const userSettings = async (uid, settings) => {\n    return await _updateParam(uid, { settings });\n  };\n  const userButtons = async (uid, buttons) => {\n    return await _updateParam(uid, { buttons });\n  };\n  return {\n    userSettings,\n    userButtons,\n  };\n})();\n","export const shuffleArray = (array) => {\n  let shuffledArray = [...array];\n  for (let i = shuffledArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffledArray[i], shuffledArray[j]] = [shuffledArray[j], shuffledArray[i]];\n  }\n  return shuffledArray;\n};\n\nexport const insertLineBreaks = (string) => {\n  return string\n    .replace(/&#x200B;/g, \"\")\n    .replace(/\\u00A0/g, \"\")\n    .split(/[\\n]/)\n    .filter((string) => !!string & (string !== \" \"));\n};\n\nexport const getId = () => Math.random() * 100000000000000000;\n\nexport const fireCallbacks = (cb, ...fns) => {\n  fns.forEach((fn) => fn(cb));\n};\n","import { createContext } from \"react\";\n\nconst RedditPostContext = createContext();\n\nexport { RedditPostContext };\n","import { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\n// styles\nimport \"../styles/Navbar.min.css\";\n\n// APIs\nimport { signInWithGoogle } from \"../API/firebase\";\n\nconst NavBar = ({ user, confirmWelcomed }) => {\n  // state\n  const [canGetPic, setCanGetPic] = useState(true);\n\n  return (\n    <nav>\n      <NavLink exact to=\"/\" id=\"home\" activeClassName=\"selected\">\n        ShowMeSomething\n      </NavLink>\n      <NavLink\n        to=\"/about\"\n        onClick={confirmWelcomed}\n        className=\"about\"\n        activeClassName=\"selected\"\n      >\n        About\n      </NavLink>\n      {!user ? (\n        <div\n          className=\"userbar\"\n          onClick={() => {\n            signInWithGoogle();\n            confirmWelcomed();\n          }}\n        >\n          <div id=\"username\">\n            <p className=\"name1\">Login</p>\n          </div>\n          <div className=\"userpic\">\n            <p>?</p>\n          </div>\n        </div>\n      ) : (\n        <NavLink\n          to=\"/settings\"\n          className=\"userbar\"\n          onClick={confirmWelcomed}\n          activeClassName=\"selected\"\n        >\n          <div id=\"username\">\n            {[\n              user.displayName[0],\n              user.displayName[user.displayName.length - 1],\n            ].map((name, i) => {\n              const nameId = \"name\" + (i + 1);\n              return (\n                <p className={nameId} key={nameId}>\n                  {name}\n                </p>\n              );\n            })}\n          </div>\n          {user.photoURL && canGetPic ? (\n            <img\n              className=\"userpic\"\n              src={user.photoURL}\n              alt=\"user profile pic\"\n              onError={() => setCanGetPic(false)}\n            />\n          ) : (\n            <div className=\"userpic\">\n              <p>{user.displayName.map((name) => name.slice(0, 1))}</p>\n            </div>\n          )}\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default NavBar;\n","export const FONTS = [\n  \"Cormorant\",\n  \"Ephesis\",\n  \"Fleur de Leah\",\n  \"Irish Grover\",\n  \"PT Mono\",\n  \"Prata\",\n  \"Rubik Beastly\",\n  \"Griffy\",\n  \"Creepster\",\n  \"Finger Paint\",\n];\n\nexport const DEFAULT_BUTTON = {\n  text: \"Add New...\",\n  style: {\n    color: \"#000000\",\n    backgroundColor: \"#FFFFFF\",\n    font: FONTS[0],\n  },\n  subreddits: [],\n};\n\nexport const MAX_SUBREDDITS = 3;\n\n// TODO: Adjust and increase breakpoints\nexport const BREAKPOINTS = [0, 720, 850, 1000, 1200, 1400];\n\nexport const FLAGS = [\"NSFW\", \"spoiler\"];\n","import { Link } from \"react-router-dom\";\n\nimport { MAX_SUBREDDITS } from \"./variables\";\n\nexport const ABOUT = [\n  {\n    header: \"Wait... What is this?\",\n    body: [\n      <span className=\"question\">Never heard of Reddit?</span>,\n      <span className=\"question\">\n        Went on Reddit once but found it overwhelming?\n      </span>,\n      <span className=\"question\">\n        Love Reddit but hate having to dig to get to the content?\n      </span>,\n      <span className=\"question\">\n        Avid Redditor but waste hours every time you visit?\n      </span>,\n      \"... Give this a try.\",\n      \"Press a category button to see a piece of content. \" +\n        \"One tap, one piece of content. No adverts, no \" +\n        \"'browsing'; think of it like a Reddit Pez dispenser .\",\n      \"Each button aggregates up to \" +\n        MAX_SUBREDDITS +\n        \" 'subreddits' (think communities), mixes up their \" +\n        \"content and serves an item up each time you press \" +\n        \"it.\",\n      [\n        \"Head back \",\n        <Link to=\"/\">home</Link>,\n        \" to get started, and when you're ready, head to the \",\n        <Link to=\"/settings\">settings</Link>,\n        \" page to sign in, adjust what Reddit content you see \" +\n          \" and customise and create your own buttons. There are \" +\n          \"thousands of Reddit communities... Type something that \" +\n          \"interests you in the button editor and see if it \" +\n          \"exists, or check out \",\n        <a\n          href=\"https://www.reddit.com/r/ListOfSubreddits/wiki/listofsubreddits\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          this directory\n        </a>,\n        \" to find exactly what scratches your itch.\",\n      ],\n      \"Have fun!\",\n    ],\n  },\n  {\n    header: \"What should I know before starting?\",\n    body: [\n      \"This app uses Google Firebase to store user data, and \" +\n        \"currently requires a Google account to be customised.\",\n      [\n        <span className=\"bold\">Note:</span>,\n        \" mobile browsers may disable pop-ups by default, which are \" +\n          \"necessary for signing in. You may need to enable them by following \" +\n          \"the instructions for Android (\",\n        <a\n          href=\"https://support.google.com/chrome/answer/95472?hl=en&co=GENIE.Platform%3DAndroid\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Chrome\n        </a>,\n        \") or iPhone (\",\n        <a\n          href=\"https://support.apple.com/en-us/HT203987\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Safari\n        </a>,\n        \", \",\n        <a\n          href=\"https://support.google.com/chrome/answer/95472?hl=en&co=GENIE.Platform%3DiOS\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Chrome\n        </a>,\n        \").\",\n      ],\n      [\n        \"This app \",\n        <span className=\"bold\">does not</span>,\n        \" block content, and \",\n        <span className=\"bold\">\n          may contain material unsuitable for people under 18 years\n        </span>,\n        \".\",\n      ],\n    ],\n  },\n];\n\nexport const WELCOME = (clickOrTap) => [\n  {\n    header: \"New here?\",\n    body: [\n      [\n        \"Check the \",\n        <Link to=\"/about\">about</Link>,\n        \" page, head straight to \",\n        <Link to=\"/settings\">settings</Link>,\n        \" to customise your experience or simply \",\n        clickOrTap,\n        \" a button below to get started \",\n      ],\n    ],\n  },\n];\n\nexport const FINISHED = [\n  {\n    header: \"Finished!\",\n    body: [\"Looks like you finished this content.\"],\n  },\n  {\n    header: \"Er... How do I get more?\",\n    body: [\n      [\n        \"Head to \",\n        <Link to=\"/settings\">settings</Link>,\n        \" to increase how many posts are pulled from Reddit.\",\n      ],\n    ],\n  },\n];\n\n// PROMPTS\n\n// Helper functions\nconst Bold = ({ children }) => <span className=\"bold\">{children}</span>;\nconst Important = ({ children }) => (\n  <span className=\"important\">{children}</span>\n);\nconst flagWarning = (type) => [\n  'This post has been marked with a \"',\n  <Bold>{type}</Bold>,\n  '\" tag.',\n];\n\nexport const PROMPT = {\n  spoiler: {\n    emoji: \"\",\n    header: \"Shhhhhh...\",\n    body: flagWarning(\"spoiler\"),\n    help: {\n      question: [\"What is a \", <Bold>Spoiler</Bold>, \"?\"],\n      answer: [\n        \"A \",\n        <Bold>Spoiler</Bold>,\n        \"is content which may reveal details about a piece of media which could 'spoil' the surprise\",\n      ],\n    },\n    confirmation: \"I don't mind, I want to see!\",\n  },\n  NSFW: {\n    emoji: \"\",\n    header: \"Oh my...\",\n    body: flagWarning(\"NSFW\"),\n    help: {\n      question: [\"What does \", <Bold>NSFW</Bold>, \" stand for?\"],\n      answer: [\n        <Bold>NSFW</Bold>,\n        \" stands for \",\n        <Bold>N</Bold>,\n        \"ot \",\n        <Bold>S</Bold>,\n        \"afe \",\n        <Bold>F</Bold>,\n        \"or \",\n        <Bold>W</Bold>,\n        \"ork, meaning \",\n        <Important>\n          content not suitable for people under the age of 18\n        </Important>,\n        \". This may include \",\n        <Bold>graphic violence</Bold>,\n        \", \",\n        <Bold>drug usage</Bold>,\n        \", \",\n        <Bold>sexual content</Bold>,\n        \".\",\n      ],\n    },\n    confirmation: \"I confirm that I am over 18 years old\",\n  },\n  RedditError: {\n    emoji: \"\",\n    header: \"Oh no!\",\n    body: \"Reddit isn't responding!\",\n    help: {\n      question: \"Have you checked that:\",\n      answer: (\n        <ul>\n          <li>Your internet is connected and working</li>\n          <li>\n            <a\n              href=\"https://www.redditstatus.com/\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Reddit is not down\n            </a>\n          </li>\n          {/* <li>\n            Both the{\" \"}\n            <a\n              href={`https://www.reddit.com/r/${currentPost.subreddit}/`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              subreddit\n            </a>{\" \"}\n            and{\" \"}\n            <a href={currentPost.url} target=\"_blank\" rel=\"noreferrer\">\n              post\n            </a>{\" \"}\n            are accessible?\n          </li> */}\n        </ul>\n      ),\n    },\n    confirmation: \"Retry loading content\",\n    cancellation: \"Edit settings\",\n  },\n  contentError: {\n    emoji: \"\",\n    header: \"Oh no!\",\n    body: \"This content failed to load!\",\n    help: {\n      answer: \"Have you checked that your internet connection is working?\",\n    },\n    confirmation: \"Retry loading content\",\n  },\n};\n","// styles\nimport \"../styles/Info.min.css\";\n\nconst Info = ({ text }) => {\n  return (\n    <div id=\"infobox\" key={text[0].header}>\n      {text.map((paragraph, i) => (\n        <div key={`paragraph${i}`}>\n          <h2 className=\"infoheader\" key={`header${i}`}>\n            {paragraph.header}\n          </h2>\n          <hr key={`hr${i}`} />\n          {paragraph.body.map((phrase, j) => (\n            <p key={`phrase${j}`}>\n              {(() => {\n                if (!Array.isArray(phrase))\n                  return <span key={`phrase${j}`}>{phrase}</span>;\n                return phrase.map((subphrase, k) => {\n                  if (!Array.isArray(subphrase))\n                    return <span key={`subphrase${k}`}>{subphrase}</span>;\n                  return subphrase.map((subsubphrase, l) => (\n                    <span key={`subsubphrase${l}`}>{subsubphrase}</span>\n                  ));\n                });\n              })()}\n            </p>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Info;\n","import { Link } from \"react-router-dom\";\n\n// styles\nimport \"../styles/About.min.css\";\n\n// constants\nimport { ABOUT } from \"../constants/sitetext\";\n\n// components\nimport Info from \"./Info\";\n\nconst About = () => {\n  return (\n    <>\n      <p>\n        Click <Link to=\"/\">here</Link> to head back\n      </p>\n      <div id=\"aboutcontainer\">\n        <Info text={ABOUT} />\n      </div>\n    </>\n  );\n};\n\nexport default About;\n","import { useContext } from \"react\";\n\n// styles\nimport \"../styles/Prompt.min.css\";\n\n// constants\nimport { PROMPT } from \"../constants/sitetext\";\n\n// context\nimport { RedditPostContext } from \"../constants/contexts\";\n\nconst Prompt = ({ type, confirm, cancel }) => {\n  // context\n  const { getNextPost } = useContext(RedditPostContext);\n\n  // text\n  const promptText = PROMPT[type];\n\n  const stopPropagation = (cb) => {\n    return (e) => {\n      e.stopPropagation();\n      cb?.();\n    };\n  };\n\n  return (\n    <div id=\"promptcontainer\">\n      <form\n        id=\"prompt\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          confirm();\n        }}\n      >\n        <h1>{promptText.emoji}</h1>\n        <h2>{promptText.header}</h2>\n        <p>{promptText.body}</p>\n        <div className=\"promptbuttons\">\n          <button\n            type=\"button\"\n            className=\"cancel\"\n            onClick={stopPropagation(cancel || getNextPost)}\n          >\n            {promptText.cancellation || \"Skip this post\"}\n          </button>\n          <button type=\"submit\" className=\"submit\" onClick={stopPropagation()}>\n            {promptText.confirmation}\n          </button>\n        </div>\n        <aside>\n          <h3>{promptText.help.question}</h3>\n          <p>{promptText.help.answer}</p>\n        </aside>\n      </form>\n    </div>\n  );\n};\n\nexport default Prompt;\n","// styles\nimport \"../styles/Snoo.min.css\";\n\nconst Snoo = ({ spinning }) => {\n  return (\n    <div id=\"spinner\">\n      <div className={`antenna${spinning && \" spinning\"}`}>\n        <div className=\"angle\" />\n        <div className=\"bobble\" />\n      </div>\n      <div className=\"spinnero\" />\n    </div>\n  );\n};\n\nexport default Snoo;\n","// styles\nimport \"../styles/Loading.min.css\";\n\n// components\nimport Snoo from \"./Snoo\";\n\nconst Loading = ({ type }) => {\n  const loadingData = (() => {\n    // limited types, no fall-through needed\n    /* eslint-disable */\n    switch (type) {\n      case \"POSTS\":\n        return {\n          text: \"Fetching posts\",\n          className: \"gettingposts\",\n        };\n      case \"BUTTONS\":\n        return {\n          text: \"Getting buttons\",\n          className: \"gettingbuttons\",\n        };\n      case \"VIDEO\":\n        return {\n          text: \"Loading video\",\n          className: \"gettingposts\",\n        };\n      case \"IMAGE\":\n        return {\n          text: \"Loading image\",\n          className: \"gettingposts\",\n        };\n      case \"COMMENTS\":\n        return {\n          text: \"Fetching comments\",\n          className: \"gettingcomments\",\n        };\n    }\n  })();\n  return (\n    <div className=\"loadingcontainer\">\n      <div className={`loading ${loadingData.className}`}>\n        <Snoo spinning={true} />\n        <p>{`${loadingData.text}...`}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import { useState, useEffect } from \"react\";\n\n// styles\nimport \"../../styles/Image.min.css\";\n\n// components\nimport Loading from \"../Loading\";\nimport Prompt from \"../Prompt\";\n\nconst Image = ({ currentImage, currentTitle }) => {\n  // state\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [failed, setFailed] = useState(false);\n\n  // reset state on image change\n  useEffect(() => {\n    setIsLoaded(false);\n    setFailed(false);\n  }, [currentImage]);\n\n  if (failed)\n    return <Prompt type=\"contentError\" confirm={() => setFailed(false)} />;\n\n  return (\n    <div className=\"mediacontainer\">\n      {isLoaded || <Loading type=\"IMAGE\" />}\n      <img\n        style={{\n          aspectRatio: `${currentImage.images[0].width} / ${currentImage.images[0].height}`,\n          display: isLoaded ? undefined : \"none\",\n        }}\n        id=\"imgpost\"\n        srcSet={currentImage.images\n          .map((image) => `${image.url} ${image.width}w`)\n          .join(\", \")}\n        src={currentImage.fallback}\n        alt={currentTitle}\n        onLoad={() => {\n          setIsLoaded(true);\n        }}\n        onError={() => setFailed(true)}\n      />\n    </div>\n  );\n};\n\nexport default Image;\n","import { useState, useEffect, useContext } from \"react\";\n\n// styles\nimport \"../../styles/Gallery.min.css\";\n\n// context\nimport { RedditPostContext } from \"../../constants/contexts\";\n\n// components\nimport Image from \"./Image\";\n\nconst Gallery = () => {\n  // state\n  const [galleryIndex, setGalleryIndex] = useState(0);\n\n  // context\n  const { currentPost } = useContext(RedditPostContext);\n\n  // state management\n  // reset state on post change\n  useEffect(() => {\n    setGalleryIndex(0);\n  }, [currentPost]);\n\n  const galleryForward = () => {\n    if (galleryIndex + 1 < currentPost.media.content.gallery.length) {\n      setGalleryIndex((prev) => prev + 1);\n      return;\n    }\n    setGalleryIndex(0);\n  };\n\n  const galleryBack = () => {\n    if (galleryIndex !== 0) {\n      setGalleryIndex((prev) => prev - 1);\n      return;\n    }\n    setGalleryIndex(currentPost.media.content.gallery.length - 1);\n  };\n\n  return (\n    <div className=\"gallerycontainer\">\n      <div className=\"gallerynav galleryleft\" onClick={galleryBack}>\n        \n      </div>\n      <Image\n        currentImage={currentPost.media.content.gallery[galleryIndex]}\n        currentTitle={currentPost.title}\n      />\n      <div className=\"gallerynav galleryright\" onClick={galleryForward}>\n        \n      </div>\n    </div>\n  );\n};\n\nexport default Gallery;\n","export default __webpack_public_path__ + \"static/media/playpause.194e84ef.png\";","export default \"data:image/png;base64,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Y2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjAzZWQxOGJkLTJkY2ItNDBjNC04MWNmLWFjNjc3ZjkzMWMxOCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplZGNkMjgwZi1kODQzLTQzYjctYjE1MC0wNTUxMTg0Mzc2ODUiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZWQwYTA1NS1lMjlhLTRmZDUtOGI5Yy04ZGY3YmRjMzJiOTUiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MzQyMTMwNjkyNzU0NzMiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6QmFnPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYTIyYTVjZS04MzY2LTQ2OGUtOWE4OC00M2U5M2JhNDkxMjMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIxLTEwLTE0VDE0OjA0OjI5KzAyOjAwIi8+CiAgICA8L3JkZjpCYWc+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Plg36jwAAAGFaUNDUElDQyBwcm9maWxlAAAokX2RPUjDQBzFX1ulUqsOdhBxyFCdLIiKiJNWoQgVQq3QqoPJpV/QpCFJcXEUXAsOfixWHVycdXVwFQTBDxA3NydFFynxf0mhRYwHx/14d+9x9w7w18tMNTvGAFWzjFQiLmSyq0LwFSH0ohsziErM1OdEMQnP8XUPH1/vYjzL+9yfo0fJmQzwCcSzTDcs4g3iqU1L57xPHGFFSSE+Jx416ILEj1yXXX7jXHDYzzMjRjo1TxwhFgptLLcxKxoq8SRxVFE1yvdnXFY4b3FWy1XWvCd/YTinrSxzneYQEljEEkQIkFFFCWVYiNGqkWIiRftxD/+g4xfJJZOrBEaOBVSgQnL84H/wu1szPzHuJoXjQOeLbX8MA8FdoFGz7e9j226cAIFn4Epr+St1YPqT9FpLix4BfdvAxXVLk/eAyx1g4EmXDMmRAjT9+TzwfkbflAX6b4HQmttbcx+nD0CaukreAAeHwEiBstc93t3V3tu/Z5r9/QCu53K/CvvZMQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UKDgwEHS5CH7oAAAFzSURBVEjH7Ze/SsNQGMXPuaZjB3VSEIcOKhZ8ieQWCo59AkFcdPYtOtqiD6B0Ubem+A4qOEglfYSKuqX0uDSlRocmpsE//aZLuMmPHzfflxPgrxdn9VzXdfeMMUeSnkke+r5/BwBO1qRKpbIiqQlgFwBIQtI5gC0AMFnCPM+rDYfDhwg21iU3o3Umhq7rrhpjGnHQV+VkYQWgCWBxmv2pgdVqdT0Mw1OSXpL70pwhrbX7YRjeJ4UlNhxZnQFwyXQd9QForV2TVAdgSRbjmweDAdKCPgFHsFuSS7OcNOMzlFSfNSz+0tg8ZqmZmAbFXIF51Rw4B/4ioKTXvA1vcgUaY44l9XMDttvtR5I7AFqSXn5ELk0SluLl+z5TB+FRcGok+ZxFwFRt0el0WsaYMoDr3KP+tLbfMozbFgqFbUlXuf/MeJ5XI3kCYHlmhnFbx3HKki4nr0t6itYLWfdZt9t9C4LgolQq9SRtkOwDOAiCoId/Ue93RIB5YcE6ZQAAAABJRU5ErkJggg==\"","import { useContext, useRef, useState, useEffect } from \"react\";\n\n// styles\nimport \"../../styles/Video.min.css\";\n\n// context\nimport { RedditPostContext } from \"../../constants/contexts\";\n\n// images\nimport PlayPause from \"../../images/playpause.png\";\nimport AudioIcon from \"../../images/audio-icon.png\";\n\n// components\nimport Loading from \"../Loading\";\nimport Prompt from \"../Prompt\";\n\nconst Video = () => {\n  // state\n  const [hasAudio, setHasAudio] = useState(true);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [failed, setFailed] = useState(false);\n\n  // context\n  const { currentPost } = useContext(RedditPostContext);\n\n  // refs\n  const vidRef = useRef();\n  const audioRef = useRef();\n\n  // state management\n  // reset state on post change\n  useEffect(() => {\n    currentPost.media.local ? setIsLoaded(false) : setIsLoaded(true);\n    setFailed(false);\n    setHasAudio(true);\n  }, [currentPost]);\n\n  // media controls avoid state management for fewer renders\n  const playAndPause = () => {\n    const isPlaying = !vidRef.current.paused;\n    const playOrPause = isPlaying ? \"pause\" : \"play\";\n    vidRef.current[playOrPause]();\n    audioRef.current && audioRef.current[playOrPause]();\n  };\n\n  const audioVolume = (() => {\n    let volume = 1;\n    const _setVolumes = () => {\n      vidRef.current.volume = volume;\n      if (audioRef.current) audioRef.current.volume = volume;\n    };\n    const _updateVolume = (increment) => {\n      volume = Number((volume + increment).toFixed(1));\n    };\n    const down = () => {\n      if (volume === 0) return;\n      _updateVolume(-0.2);\n      _setVolumes();\n    };\n    const up = () => {\n      if (volume === 1) return;\n      _updateVolume(0.2);\n      _setVolumes();\n    };\n    return {\n      down,\n      up,\n    };\n  })();\n\n  if (failed)\n    return <Prompt type=\"contentError\" confirm={() => setFailed(false)} />;\n\n  return (\n    <div className=\"mediacontainer\">\n      {isLoaded || <Loading type=\"VIDEO\" />}\n      {!!currentPost.media.local ? (\n        <>\n          <video\n            ref={vidRef}\n            className=\"video\"\n            style={{ display: isLoaded ? undefined : \"none\" }}\n            onLoadedData={() => setIsLoaded(true)}\n            onError={() => setFailed(true)}\n          >\n            <source\n              src={currentPost.media.content.videourl}\n              type={`video/${currentPost.media.content.format}`}\n            />\n            Sorry, your browser doesn't support embedded videos.\n          </video>\n          {/* \n            The below solution is far from perfect:\n\n            Basically, as referenced here:\n            https://www.reddit.com/r/redditdev/comments/ihgmv5/getting_audio_from_reddit_video/\n            Reddit now serves its hosted video as two separate files, one\n            video only and one audio. The solution in a production-quality\n            app would be some server-side operation downloading both files\n            and encoding them together before serving, but my current\n            front-end solution is to try to download the audio file in an\n            invisible audio component with both video and audio controlled\n            by the same buttons, the audio element disappearing if the GET\n            throws an error(!) (Yes, the thrown error is visible in the\n            console).\n\n            This is also why video controls are disabled, as scrubbing through\n            the video would completely desynchronise the audio... ;)\n\n            I've checked the endpoint and there's no 'is_gif'-like flag, as\n            some posts are literally silent mp4 videos (the video has enabled\n            audio controls but no actual sound).\n\n            Sorry!\n          */}\n          {currentPost.media.content.audiourl && hasAudio && (\n            <audio\n              ref={audioRef}\n              style={{ display: \"none\" }}\n              onError={() => setHasAudio(false)}\n            >\n              <source\n                src={currentPost.media.content.audiourl}\n                type=\"audio/mp4\"\n              />\n            </audio>\n          )}\n          <button id=\"playpause\" onClick={playAndPause}>\n            <img src={PlayPause} alt=\"Play and pause button\" />\n          </button>\n          <div id=\"volumecontrols\">\n            <button id=\"volumeup\" onClick={audioVolume.up}>\n              <img src={AudioIcon} alt=\"Audio icon\" />\n              <p>+</p>\n            </button>\n            <button id=\"volumedown\" onClick={audioVolume.down}>\n              <img src={AudioIcon} alt=\"Audio icon\" />\n              <p>-</p>\n            </button>\n          </div>\n        </>\n      ) : (\n        // video from outside Reddit, no choice...\n        <div\n          className=\"hostedvideo\"\n          dangerouslySetInnerHTML={{\n            __html: currentPost.media.content.html,\n          }}\n          style={{ display: isLoaded ? undefined : \"none\" }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Video;\n","import { useContext } from \"react\";\nimport { RedditPostContext } from \"../../constants/contexts\";\n\nimport \"../../styles/Wikipedia.css\";\n\nconst Wikipedia = () => {\n  const { currentPost } = useContext(RedditPostContext);\n\n  return (\n    <iframe title={currentPost.title} src={currentPost.media.content.url} />\n  );\n};\n\nexport default Wikipedia;\n","import { useState, useCallback, useEffect, useContext } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { useHistory } from \"react-router\";\nimport ReactMarkdown from \"react-markdown\";\n\n// API\nimport { getCommentData } from \"../API/reddit\";\n\n// styles\nimport \"../styles/Comments.min.css\";\n\n// context\nimport { RedditPostContext } from \"../constants/contexts\";\n\n// components\nimport Prompt from \"./Prompt\";\nimport Loading from \"./Loading\";\n\nconst Comments = () => {\n  // state\n  const [clicked, setClicked] = useState(false);\n  const [comments, setComments] = useState(null);\n\n  // history\n  const history = useHistory();\n\n  // context\n  const { currentPost } = useContext(RedditPostContext);\n\n  // state management\n  const toggleClicked = () => setClicked((prevClicked) => !prevClicked);\n\n  // media query\n  const isTouchscreen = useMediaQuery({ query: \"(hover: none)\" });\n\n  const getComments = useCallback(async () => {\n    const postComments = await getCommentData(currentPost.url);\n    setComments(postComments);\n  }, [currentPost.url]);\n\n  // - reset on post change\n  useEffect(() => {\n    setClicked(false);\n    setComments(null);\n  }, [currentPost]);\n\n  const handleClick = () => {\n    if (!comments) getComments();\n    toggleClicked();\n  };\n\n  const retryGetComments = () => {\n    setComments(null);\n    getComments();\n  };\n\n  return (\n    <div\n      id=\"comments\"\n      onClick={handleClick}\n      style={{\n        height: clicked ? \"100%\" : \"50px\",\n        overflowY: clicked ? \"scroll\" : \"hidden\",\n      }}\n    >\n      <div id=\"commentheader\">{`${isTouchscreen ? \"Tap\" : \"Click\"} to ${\n        clicked ? \"close\" : \"expand\"\n      } comments`}</div>\n      <div id=\"commentcontainer\">\n        {!!comments ? (\n          comments.map((comment, i) => {\n            if (!comment.content || !comment.author) {\n              // adding conditional return to .map to prevent\n              // two array functions for efficiency\n              // eslint-disable-next-line\n              return;\n            }\n            return (\n              <div className=\"commentbox\" key={`comment${i}`}>\n                <div className=\"commentcontent\">\n                  <ReactMarkdown>{comment.content}</ReactMarkdown>\n                </div>\n                <hr />\n                <p className=\"author\">{`- ${comment.author}`}</p>\n              </div>\n            );\n          })\n        ) : comments === false ? (\n          <Prompt\n            type=\"RedditError\"\n            confirm={retryGetComments}\n            cancel={() => history.push(\"/settings\")}\n          />\n        ) : (\n          <Loading type=\"COMMENTS\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Comments;\n","import { useContext, useState, useEffect, useMemo } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\n// styles\nimport \"../styles/Post.min.css\";\n\n// constants\nimport { FLAGS } from \"../constants/variables\";\n\n// utils\nimport { insertLineBreaks } from \"../utils\";\n\n// context\nimport { RedditPostContext } from \"../constants/contexts\";\n\n// images\nimport newwindowicon from \"../images/newwindow.png\";\n\n// components\nimport Prompt from \"./Prompt\";\nimport Image from \"./mediaPosts/Image\";\nimport Gallery from \"./mediaPosts/Gallery\";\nimport Video from \"./mediaPosts/Video\";\nimport Wikipedia from \"./mediaPosts/Wikipedia\";\nimport Comments from \"./Comments\";\n\nconst Post = ({ showContent }) => {\n  // state\n  const { currentPost } = useContext(RedditPostContext);\n  const [NSFWvisible, setNSFWVisible] = useState(false);\n  const [spoilerVisible, setSpoilerVisible] = useState(false);\n\n  // variables\n  const postHasNoFlags = FLAGS.every((flag) => {\n    return !currentPost[flag];\n  });\n\n  const postVisibility = useMemo(\n    () => ({\n      NSFW: {\n        visibility: NSFWvisible,\n        confirm: () => setNSFWVisible(true),\n        deny: () => setNSFWVisible(false),\n      },\n      spoiler: {\n        visibility: spoilerVisible,\n        confirm: () => setSpoilerVisible(true),\n        deny: () => setNSFWVisible(false),\n      },\n    }),\n    [NSFWvisible, spoilerVisible]\n  );\n\n  // set content visibility state on render\n  useEffect(() => {\n    if (!showContent || postHasNoFlags) return;\n    FLAGS.forEach((flag) => {\n      if (!showContent[`${flag}prompt`]) postVisibility[flag].confirm();\n    });\n  }, [postHasNoFlags, postVisibility, showContent]);\n\n  // reset visibility on next post\n  useEffect(() => {\n    if (!showContent || postHasNoFlags) return;\n    FLAGS.forEach((flag) => {\n      if (showContent[`${flag}prompt`]) postVisibility[flag].deny();\n    });\n    // only run on post chage\n    // eslint-disable-next-line\n  }, [currentPost]);\n\n  // CONTENT\n  const Content = () => {\n    switch (currentPost.media.type) {\n      case \"image\":\n        return (\n          <Image\n            currentImage={currentPost.media.content}\n            currentTitle={currentPost.title}\n          />\n        );\n      case \"gallery\":\n        return <Gallery />;\n      case \"text\":\n        return (\n          <div className=\"mediacontainer\">\n            <div className=\"textpost\">\n              {insertLineBreaks(currentPost.media.content.text).map(\n                (string) => (\n                  <ReactMarkdown linkTarget=\"_blank\">{string}</ReactMarkdown>\n                )\n              )}\n            </div>\n          </div>\n        );\n      case \"video\":\n        return <Video />;\n      case \"wikipedia\":\n        return <Wikipedia />;\n      case \"website\":\n        return (\n          <p>\n            View external content at source{\" \"}\n            <a\n              href={currentPost.media.content.url}\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              here\n            </a>\n            .\n          </p>\n        );\n      default:\n        return (\n          <p>{`Oops, I haven't got round to handling \"${currentPost.type}\" posts yet... Sorry!`}</p>\n        );\n    }\n  };\n\n  const PostBody = () => (\n    <>\n      <Content />\n      <Comments />\n    </>\n  );\n\n  // show no content before state initialisation\n  if (!postHasNoFlags && (NSFWvisible === null || spoilerVisible === null))\n    return null;\n\n  return (\n    <div id=\"post\">\n      <div className=\"posttitle\">\n        <div\n          id=\"likepercentage\"\n          style={{\n            background: `linear-gradient(to top, lime, lime ${currentPost.controversiality}%, red ${currentPost.controversiality}%, red)`,\n          }}\n        >\n          {currentPost.controversiality}%\n        </div>\n        <h2>{currentPost.title}</h2>\n        <a\n          id=\"externallink\"\n          href={currentPost.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <img\n            id=\"newwindowicon\"\n            src={newwindowicon}\n            alt=\"open link in a new window\"\n          />\n        </a>\n      </div>\n      {(() => {\n        if (postHasNoFlags) {\n          return <PostBody />;\n        }\n        for (let i = 0; i < FLAGS.length; i++) {\n          if (currentPost[FLAGS[i]])\n            return postVisibility[FLAGS[i]].visibility ? (\n              <PostBody />\n            ) : (\n              <Prompt\n                type={FLAGS[i]}\n                confirm={postVisibility[FLAGS[i]].confirm}\n              />\n            );\n        }\n      })()}\n    </div>\n  );\n};\n\nexport default Post;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAkklEQVRIie2VQQqAIBQFh+5QdKSuUsetRfs8SG2Mgur7UmvlgLjxvRERhcJLOsABqzF2lDUXlkAwWRBccEMNjF8JGmDymX3OJjjvfAbanIK7cimvCJ7KswiscglLkFxuCdTyqCN6s/MowcBxzxsrHCsA6IXyJIHKJV8llEn8LnB+Dj3Z1jPtMOjQ/oSnsfiOgs4GdhCGDgYn7KYAAAAASUVORK5CYII=\"","import { useContext } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useMediaQuery } from \"react-responsive\";\n\n// styles\nimport \"../styles/Canvas.min.css\";\n\n// constants\nimport { WELCOME, FINISHED } from \"../constants/sitetext\";\n\n// context\nimport { RedditPostContext } from \"../constants/contexts\";\n\n// components\nimport Info from \"./Info\";\nimport Prompt from \"./Prompt\";\nimport Post from \"./Post\";\nimport Loading from \"./Loading\";\n\nconst Canvas = ({ welcomed, showContent }) => {\n  // context\n  const { fetchingPosts, getNextPost, thisListFinished, currentPost } =\n    useContext(RedditPostContext);\n\n  // history\n  const history = useHistory();\n\n  // media query\n  const isTouchscreen = useMediaQuery({ query: \"(hover: none)\" });\n\n  return (\n    <div id=\"canvas\">\n      {(() => {\n        // loading\n        if (fetchingPosts) return <Loading type=\"POSTS\" />;\n        if (currentPost === null) {\n          // failed\n          return (\n            <Prompt\n              type=\"RedditError\"\n              cancel={() => history.push(\"/settings\")}\n              confirm={getNextPost}\n            />\n          );\n        }\n        if (thisListFinished) return <Info text={FINISHED} />;\n        if (!welcomed) {\n          const selectEvent = isTouchscreen ? \"tap\" : \"click\";\n          const WELCOME_TEXT = WELCOME(selectEvent);\n          return <Info text={WELCOME_TEXT} />;\n        }\n        if (currentPost === undefined)\n          return (\n            <div>{`${isTouchscreen ? \"Tap\" : \"Click\"} below to begin `}</div>\n          );\n        return <Post showContent={showContent} />;\n      })()}\n    </div>\n  );\n};\n\nexport default Canvas;\n","// styles\nimport \"../styles/FormButtons.min.css\";\n\nconst FormButtons = ({ submitSuccess, isDifferent, cancel }) => {\n  return (\n    <div className=\"formbuttons twobuttons\">\n      <div className=\"submitsuccess extradetails\">\n        {submitSuccess ? (\n          // succeeded\n          <p className=\"successtext\">Success!</p>\n        ) : submitSuccess === false ? (\n          // failed\n          <p className=\"failuretext\">Oops, try again...</p>\n        ) : submitSuccess === undefined ? (\n          // being attempted\n          <p>...</p>\n        ) : isDifferent ? (\n          // contains changes, show warning\n          <p className=\"warning\">Warning: Unsaved changes will be lost</p>\n        ) : // null\n        null}\n      </div>\n      <button\n        type=\"button\"\n        disabled={!isDifferent}\n        onClick={cancel}\n        className=\"cancel\"\n      >\n        Discard all changes\n      </button>\n      <button type=\"submit\" className=\"submit\" disabled={!isDifferent}>\n        Save all changes\n      </button>\n    </div>\n  );\n};\n\nexport default FormButtons;\n","import { useEffect, useState } from \"react\";\nimport _ from \"lodash\";\n\n// styles\nimport \"../styles/UserSettings.min.css\";\n\n// components\nimport FormButtons from \"./FormButtons\";\n\nconst UserSettings = ({ settings, updateFirebase }) => {\n  // state\n  const [currentSettings, setCurrentSettings] = useState(null);\n  const [submitSuccess, setSubmitSuccess] = useState(null);\n\n  // state management\n  const resetSettings = () => {\n    const clonedSettings = _.cloneDeep(settings);\n    setCurrentSettings(clonedSettings);\n  };\n\n  // set component settings state from current user settings\n  useEffect(() => {\n    if (!settings) return;\n    resetSettings();\n    // only run on settings change\n    // eslint-disable-next-line\n  }, [settings]);\n\n  // reset submit success on mount\n  useEffect(() => {\n    setSubmitSuccess(null);\n  }, []);\n\n  const handleFormChange = (category, value) => {\n    setCurrentSettings((prevSettings) => {\n      return {\n        ...prevSettings,\n        [category]: value,\n      };\n    });\n    if (!submitSuccess) return;\n    setSubmitSuccess(null);\n  };\n\n  const BooleanOptions = ({ type }) => {\n    const reportRadioChange = (e) => {\n      const booleanValue = e.target.value === \"true\" ? true : false;\n      handleFormChange(`${type}Prompt`, booleanValue);\n    };\n    return (\n      <fieldset className=\"setting keyvaluepair\">\n        <div className=\"legendcontainer\">\n          <legend>{`Prompt before showing '${type}' posts:`}</legend>\n        </div>\n        <div className=\"radiovalues\">\n          <label htmlFor={`${type}Prompt`}>\n            <input\n              id={`${type}Prompt`}\n              type=\"radio\"\n              name={type}\n              value=\"true\"\n              checked={currentSettings[`${type}Prompt`] === true}\n              onChange={reportRadioChange}\n            />\n            Yes\n          </label>\n          <label htmlFor={`${type}noprompt`}>\n            <input\n              id={`${type}noprompt`}\n              type=\"radio\"\n              name={type}\n              value=\"false\"\n              checked={currentSettings[`${type}Prompt`] === false}\n              onChange={reportRadioChange}\n            />\n            No\n          </label>\n        </div>\n      </fieldset>\n    );\n  };\n\n  if (!currentSettings) {\n    return <p>Loading your settings...</p>;\n  }\n\n  // currentSettings must exist\n  const { filter, limit, timeframe } = currentSettings;\n\n  return (\n    <form\n      id=\"usersettings\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        setSubmitSuccess(undefined);\n        updateFirebase({\n          type: \"SETTINGS\",\n          data: currentSettings,\n          setSubmitSuccess,\n        });\n      }}\n      className=\"settingsform\"\n    >\n      <legend className=\"mainlegend\">General Settings</legend>\n      <div className=\"setting\">\n        <div className=\"keyvaluepair\">\n          <label htmlFor=\"filter\">Filter by:</label>\n          <select\n            id=\"filterselect\"\n            name=\"filter\"\n            onChange={(e) => handleFormChange(\"filter\", e.target.value)}\n            value={filter}\n          >\n            <option value=\"top\">Top</option>\n            <option value=\"hot\">Hot</option>\n            <option value=\"best\">Best</option>\n            <option value=\"new\">New</option>\n            <option value=\"rising\">Rising</option>\n            <option value=\"controversial\">Controversial</option>\n            <option value=\"random\">Random</option>\n          </select>\n        </div>\n        <p className=\"extradetails\">{`Show ${(() => {\n          // eslint-disable-next-line default-case\n          switch (filter) {\n            case \"top\":\n              return \"the most popular content during your selected timeframe\";\n            case \"hot\":\n              return \"content which has recently been getting positive feedback\";\n            case \"best\":\n              return \"the highest rated content during your selected timeframe\";\n            case \"new\":\n              return \"the latest content (good or bad!)\";\n            case \"rising\":\n              return \"the content getting the most positive feedback right now\";\n            case \"controversial\":\n              return \"the most equally liked and disliked content\";\n            case \"random\":\n              return \"randomly selected content from within your other parameters\";\n          }\n        })()}`}</p>\n      </div>\n      <div className=\"setting\">\n        <div className=\"keyvaluepair\">\n          <label htmlFor=\"limit\">Content limit:</label>\n          <div className=\"numbercontainer\">\n            <input\n              type=\"number\"\n              id=\"limitinput\"\n              name=\"limit\"\n              min=\"1\"\n              max=\"100\"\n              value={limit}\n              onChange={(e) => {\n                // TODO: Improve limit range handling\n                let value = e.target.value;\n                if (value === \"0\" || value.length === 4) return;\n                if (+value > 100) value = \"100\";\n                if (value !== \"\" && +value <= 0) value = \"1\";\n                handleFormChange(\"limit\", value);\n              }}\n              onBlur={(e) => {\n                // handle empty field\n                const value = e.target.value;\n                if (value) return;\n                handleFormChange(\"limit\", 1);\n              }}\n            />\n            <p>(up to 100)</p>\n          </div>\n        </div>\n        <aside className=\"extradetails warning\">\n          Note: a higher limit may lead to longer loading times\n        </aside>\n      </div>\n      <div className=\"setting keyvaluepair\">\n        <label htmlFor=\"timeframe\">Timeframe:</label>\n        <select\n          id=\"timeframeselect\"\n          name=\"timeframe\"\n          onChange={(e) => handleFormChange(\"timeframe\", e.target.value)}\n          value={timeframe}\n        >\n          <option value=\"hour\">The last hour</option>\n          <option value=\"day\">The last day</option>\n          <option value=\"week\">The last week</option>\n          <option value=\"month\">The last month</option>\n          <option value=\"year\">The last year</option>\n          <option value=\"all\">Forever</option>\n        </select>\n      </div>\n      <BooleanOptions type=\"NSFW\" />\n      <BooleanOptions type=\"spoiler\" />\n      <FormButtons\n        submitSuccess={submitSuccess}\n        isDifferent={!_.isEqual(currentSettings, settings)}\n        cancel={resetSettings}\n      />\n    </form>\n  );\n};\n\nexport default UserSettings;\n","// styles\nimport \"../styles/Button.css\";\n\nconst Button = ({ button, isDisabled, handleClick }) => {\n  const style = {\n    ...button.style,\n    fontFamily: `\"${button.style.font}\", Verdana, sans-serif`,\n    borderColor: `${button.style.backgroundColor}`,\n    background: `radial-gradient(ellipse at center, ${button.style.backgroundColor}, ${button.style.backgroundColor} 20%, #fff 80%, #fff 100%)`,\n  };\n  return (\n    <div className=\"buttoncontainer\">\n      <button\n        type=\"button\"\n        style={style}\n        disabled={isDisabled}\n        onClick={handleClick}\n      >\n        {button.text || \"...\"}\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { useState, useEffect, useMemo, useRef } from \"react\";\n\n// APIs\nimport { checkSubredditExists } from \"../API/reddit\";\n\n// styles\nimport \"../styles/ButtonEditor.min.css\";\n\n// constants\nimport { DEFAULT_BUTTON, FONTS, MAX_SUBREDDITS } from \"../constants/variables\";\n\n// utils\nimport { getId } from \"../utils\";\n\nconst ButtonEditor = ({\n  currentButton,\n  editCurrentButton,\n  deleteCurrentButtonSubreddit,\n  deleteButton,\n  cancel,\n  modified,\n  keepChanges,\n  isDuplicate,\n}) => {\n  // STATE\n  const [checkingSubreddit, setCheckingSubreddit] = useState(null);\n  const [subredditValidity, setSubredditValidity] = useState(null);\n  const [edited, setEdited] = useState(false);\n  const [newSubredditAdded, setNewSubredditAdded] = useState(false);\n\n  // Refs\n  const lastSubredditRef = useRef();\n\n  // dependencies\n  const subredditsJSON = JSON.stringify(currentButton.subreddits);\n\n  // set state on render\n  useEffect(() => {\n    let blankValidity = {};\n    currentButton.subreddits.forEach((subreddit) => {\n      blankValidity[subreddit.id] = null;\n    });\n    setSubredditValidity(blankValidity);\n  }, []); // eslint-disable-line\n\n  const duplicateSubreddit = useMemo(() => {\n    let duplicate = false;\n    currentButton.subreddits\n      .map((subreddit) => subreddit.name.toLowerCase())\n      .sort()\n      .reduce((prevSubreddit, thisSubreddit) => {\n        if (thisSubreddit === \"\") return false;\n        if (!prevSubreddit) return thisSubreddit;\n        if (prevSubreddit === thisSubreddit) {\n          duplicate = thisSubreddit;\n        }\n        return thisSubreddit;\n      }, false);\n    return duplicate;\n    // use JSON dependency for deep object dependency\n    // eslint-disable-next-line\n  }, [subredditsJSON]);\n\n  // check if valid each render\n  const isValidEdit = useMemo(() => {\n    if (\n      // is not modified\n      !modified ||\n      // is duplicate\n      isDuplicate ||\n      // has no button text\n      !currentButton.text ||\n      // has the default button text\n      currentButton.text === DEFAULT_BUTTON.text ||\n      // has no subreddits\n      !currentButton.subreddits.length ||\n      // has duplicate subreddits\n      !!duplicateSubreddit ||\n      // contains unsuccessful validity checks\n      (() => {\n        const currentValidityChecks =\n          !!subredditValidity &&\n          currentButton.subreddits\n            .map((subreddit) => subredditValidity[subreddit.id])\n            .filter((validity) => !!validity);\n        return (\n          !!currentValidityChecks.length &&\n          currentValidityChecks.some((validity) => {\n            console.log(validity);\n            return !validity.attempt || !validity.resolved || !validity.exists;\n          })\n        );\n      })()\n    ) {\n      return false;\n    }\n    return true;\n  }, [\n    modified,\n    isDuplicate,\n    currentButton.text,\n    currentButton.subreddits,\n    duplicateSubreddit,\n    subredditValidity,\n  ]);\n\n  const handleDeleteSubreddit = (subredditId) => {\n    // remove subreddit from currentButton\n    deleteCurrentButtonSubreddit(currentButton.id, subredditId);\n    // UPDATE LOCAL STATE\n    setCheckingSubreddit(null);\n    // TODO: Manage delete subreddit while checking another(!)\n    setSubredditValidity((prevSubredditValidity) => {\n      let newSubredditValidity = { ...prevSubredditValidity };\n      delete newSubredditValidity[subredditId];\n      return newSubredditValidity;\n    });\n  };\n\n  // Focus on last subreddit if a new box was just made\n  useEffect(() => {\n    if (!newSubredditAdded || !lastSubredditRef.current) return;\n    lastSubredditRef.current.focus();\n    // reset state only after mount and focus\n    setTimeout(() => setNewSubredditAdded(false), 0);\n  }, [newSubredditAdded, setNewSubredditAdded]);\n\n  // CHECK SUBREDDIT VAILIDITY ON EDIT\n  useEffect(() => {\n    if (!checkingSubreddit) return;\n    const currentSubreddit = currentButton.subreddits.find(\n      (subreddit) => subreddit.id === checkingSubreddit\n    );\n    // ignore if duplicate or empty\n    if (\n      currentSubreddit.name === \"\" ||\n      currentSubreddit.name === duplicateSubreddit\n    )\n      return;\n    let isSubscribed = true;\n    // subreddit unattempted\n    setSubredditValidity((prevValidity) => {\n      return {\n        ...prevValidity,\n        [checkingSubreddit]: {\n          attempt: currentSubreddit.name,\n          attempted: false,\n          resolved: false,\n        },\n      };\n    });\n    // small delay to prevent API calls on every character edit!\n    const timeout = setTimeout(async () => {\n      // subreddit unresolved\n      setSubredditValidity((prevValidity) => {\n        return {\n          ...prevValidity,\n          [checkingSubreddit]: {\n            ...prevValidity[checkingSubreddit],\n            attempted: true,\n          },\n        };\n      });\n      try {\n        const subredditIsValid = await checkSubredditExists(\n          currentSubreddit.name\n        );\n        if (isSubscribed) {\n          // subreddit resolved and does/doesn't exist\n          setSubredditValidity((prevValidity) => {\n            return {\n              ...prevValidity,\n              [checkingSubreddit]: {\n                ...prevValidity[checkingSubreddit],\n                resolved: true,\n                ...subredditIsValid,\n              },\n            };\n          });\n        }\n      } catch (error) {\n        alert(error);\n        // TODO: Handle error on Reddit down etc.\n      }\n    }, 800);\n\n    return () => {\n      clearTimeout(timeout);\n      isSubscribed = false;\n    };\n    // use JSON dependency for deep object dependency\n    // eslint-disable-next-line\n  }, [checkingSubreddit, subredditsJSON]);\n\n  return (\n    <div className=\"buttoneditorform\">\n      <fieldset>\n        <legend className=\"sublegend\">Style</legend>\n        <div className=\"buttonstyle\">\n          <div className=\"setting\">\n            <div className=\"keyvaluepair\">\n              <label>Name:</label>\n              <input\n                type=\"text\"\n                value={\n                  currentButton.text === DEFAULT_BUTTON.text\n                    ? \"\"\n                    : currentButton.text\n                }\n                maxLength=\"12\"\n                placeholder=\"Add button text...\"\n                onChange={(e) => {\n                  const value = e.target.value;\n                  const textValue =\n                    value.slice(0, 1).toUpperCase() + value.slice(1);\n                  editCurrentButton({\n                    buttonId: currentButton.id,\n                    value: textValue,\n                    param: \"text\",\n                  });\n                  if (edited) return;\n                  setEdited(true);\n                }}\n              />\n            </div>\n\n            {isDuplicate && (\n              <p className=\"extradetails warning\">\n                Button name already exists!\n              </p>\n            )}\n          </div>\n\n          <div className=\"setting keyvaluepair\">\n            <label htmlFor=\"font\">Font:</label>\n            <select\n              className=\"fontselect\"\n              name=\"font\"\n              onChange={(e) => {\n                editCurrentButton({\n                  buttonId: currentButton.id,\n                  value: e.target.value,\n                  param: \"style\",\n                  subparam: \"font\",\n                });\n              }}\n              value={currentButton.style.font}\n              style={{ fontFamily: currentButton.style.font }}\n            >\n              {FONTS.map((font) => {\n                return (\n                  <option key={font} value={font} style={{ fontFamily: font }}>\n                    {font}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n          <div className=\"setting keyvaluepair\">\n            <label>Text Colour:</label>\n            <div className=\"colorcontainer\">\n              <input\n                type=\"color\"\n                value={currentButton.style.color}\n                onInput={(e) => {\n                  editCurrentButton({\n                    buttonId: currentButton.id,\n                    value: e.target.value,\n                    param: \"style\",\n                    subparam: \"color\",\n                  });\n                  if (edited) return;\n                  setEdited(true);\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"setting keyvaluepair\">\n            <label>Background Color:</label>\n            <div className=\"colorcontainer\">\n              <input\n                type=\"color\"\n                value={currentButton.style.backgroundColor}\n                onInput={(e) => {\n                  editCurrentButton({\n                    buttonId: currentButton.id,\n                    value: e.target.value,\n                    param: \"style\",\n                    subparam: \"backgroundColor\",\n                  });\n                  if (edited) return;\n                  setEdited(true);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </fieldset>\n      <fieldset>\n        <legend className=\"sublegend\">Subreddits:</legend>\n        <div className=\"subredditlist\">\n          {currentButton.subreddits.map((subreddit, j) => {\n            const thisSubredditValidity =\n              !!subredditValidity && subredditValidity[subreddit.id];\n            const subredditIsDuplicate =\n              subreddit.name.toLowerCase() === duplicateSubreddit;\n            return (\n              <div\n                className=\"subredditlistitem\"\n                key={currentButton.id + subreddit.id}\n              >\n                <div className=\"deletesubredditcontainer\">\n                  <button\n                    type=\"button\"\n                    className=\"delete\"\n                    key={`delete${subreddit.name}`}\n                    onClick={() => handleDeleteSubreddit(subreddit.id)}\n                  >\n                    \n                  </button>\n                </div>\n                <div className=\"subredditname\" key={`subreddit${j}`}>\n                  <p>r/</p>\n                  <input\n                    className=\"subredditinput\"\n                    type=\"text\"\n                    value={subreddit.name}\n                    onChange={(e) => {\n                      editCurrentButton({\n                        buttonId: currentButton.id,\n                        value: e.target.value.toLowerCase(),\n                        subredditId: subreddit.id,\n                      });\n                      setCheckingSubreddit(subreddit.id);\n                    }}\n                    placeholder=\"Add a subreddit...\"\n                    ref={\n                      newSubredditAdded &&\n                      j === currentButton.subreddits.length - 1\n                        ? lastSubredditRef\n                        : undefined\n                    }\n                  />\n                </div>\n                <div className=\"icon\">\n                  {(() => {\n                    // Is duplicate\n                    if (subredditIsDuplicate)\n                      return (\n                        <div className=\"duplicatesubredditalert\">\n                          <div className=\"exclamationcontainer\">\n                            <p>!</p>\n                          </div>\n                        </div>\n                      );\n                    // Pre-existing, must exist\n                    if (!thisSubredditValidity) return <p></p>;\n                    // NEW EDIT\n                    // Hasn't been attempted\n                    if (!thisSubredditValidity.attempted) return null;\n                    // Hasn't been resolved\n                    if (!thisSubredditValidity.resolved) return <p>...</p>;\n                    // Resolved, doesn't exist\n                    if (!thisSubredditValidity.exists) return <p></p>;\n                    // Exists!\n                    // Has icon\n                    if (!!thisSubredditValidity.icon)\n                      return (\n                        <img\n                          className=\"subredditicon\"\n                          src={subredditValidity[subreddit.id].icon}\n                          alt={subredditValidity[subreddit.id].subtitle}\n                        />\n                      );\n                    // Has no icon\n                    return <p></p>;\n                  })()}\n                </div>\n                {subredditIsDuplicate ? (\n                  <div className=\"extradetails subredditdetails\">\n                    <p className=\"warning\">Duplicate subreddit</p>\n                  </div>\n                ) : (\n                  !!thisSubredditValidity &&\n                  thisSubredditValidity.exists && (\n                    <div className=\"extradetails subredditdetails\">\n                      <p>{subredditValidity[subreddit.id].subreddit}</p>\n                      {subredditValidity[\n                        subreddit.id\n                      ].subreddit.toLowerCase() !==\n                        subredditValidity[\n                          subreddit.id\n                        ].subtitle.toLowerCase() && (\n                        <p>{subredditValidity[subreddit.id].subtitle}</p>\n                      )}\n                    </div>\n                  )\n                )}\n              </div>\n            );\n          })}\n          {currentButton.subreddits.length < MAX_SUBREDDITS && (\n            <div className=\"subredditlistitem newsubreddit\">\n              <div className=\"subredditname\">\n                <p>r/</p>\n                <input\n                  type=\"text\"\n                  onChange={(e) => {\n                    const newId = getId();\n                    setCheckingSubreddit(newId);\n                    editCurrentButton({\n                      buttonId: currentButton.id,\n                      value: e.target.value.toLowerCase(),\n                      subredditId: newId,\n                    });\n                    setNewSubredditAdded(true);\n                  }}\n                  value=\"\"\n                  placeholder=\"Add a subreddit...\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </fieldset>\n      <div className=\"formbuttons threebuttons\">\n        <button type=\"button\" onClick={cancel} className=\"cancel\">\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => deleteButton(currentButton.id)}\n          disabled={currentButton.text === DEFAULT_BUTTON.text}\n          className=\"delete\"\n        >\n          Delete Button\n        </button>\n        <button\n          type=\"button\"\n          onClick={(e) => {\n            e.stopPropagation();\n            keepChanges();\n          }}\n          disabled={!isValidEdit}\n          className=\"submit\"\n        >\n          Finish editing\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ButtonEditor;\n","import { useState, useEffect, useMemo } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport _ from \"lodash/\";\n\n// styles\nimport \"../styles/ButtonSettings.min.css\";\n\n// constants\nimport { DEFAULT_BUTTON } from \"../constants/variables\";\n\n// utils\nimport { fireCallbacks, getId } from \"../utils\";\n\n// components\nimport Button from \"./Button\";\nimport ButtonEditor from \"./ButtonEditor\";\nimport FormButtons from \"./FormButtons\";\n\nconst ButtonSettings = ({ buttons, updateFirebase }) => {\n  const [submitSuccess, setSubmitSuccess] = useState(null);\n  const [referenceButtons, setReferenceButtons] = useState(null);\n  const [currentButtons, setCurrentButtons] = useState(null);\n  const [buttonsBeingEdited, setButtonsBeingEdited] = useState(null);\n\n  // media query\n  const isTouchscreen = useMediaQuery({ query: \"(hover: none)\" });\n\n  // JSON dependencies\n  const JSONbuttons = JSON.stringify(buttons);\n  const JSONreferenceButtons = JSON.stringify(referenceButtons);\n\n  // helper functions\n  const getNewButton = (id) => {\n    return { ..._.cloneDeep(DEFAULT_BUTTON), id: id || getId() };\n  };\n\n  const findItemIndex = (array, id) => {\n    return array.findIndex((obj) => obj.id === id);\n  };\n\n  const checkForDuplicateButton = (text) => {\n    return (\n      currentButtons.filter((currentButton) => currentButton.text === text)\n        .length > 1\n    );\n  };\n\n  // strip IDs off of buttons\n  const stripButton_s = (button_s) => {\n    const _stripButton = (button) => {\n      const { id, ...restOfButton } = button;\n      return {\n        ...restOfButton,\n        subreddits: button.subreddits.map(({ id, name }) => name),\n      };\n    };\n    if (button_s.length) {\n      // array\n      return button_s.slice(0, -1).map((button) => _stripButton(button));\n    }\n    // object\n    return _stripButton(button_s);\n  };\n\n  // state management\n  // reset submit success on mount\n  useEffect(() => {\n    setSubmitSuccess(null);\n  }, []);\n\n  const resetAll = () => {\n    // apply IDs to buttons and subreddits for local management\n    // Not handling repeat IDs because... Really, the likelihood...\n    // TODO: Replace with '_.uniqueid()'-based solution\n    const defaultButtons = [\n      ..._.cloneDeep(buttons).map((button) => ({\n        ...button,\n        id: getId(),\n        subreddits: button.subreddits.map((subreddit) => ({\n          name: subreddit,\n          id: getId(),\n        })),\n      })),\n      getNewButton(),\n    ];\n    const _getDefaultButtons = () => {\n      return defaultButtons;\n    };\n    fireCallbacks(_getDefaultButtons, setReferenceButtons, setCurrentButtons);\n\n    const getObjWithFalseIdParams = () => {\n      let obj = {};\n      buttons.forEach((button) => (obj[button.id] = false));\n      return obj;\n    };\n    fireCallbacks(getObjWithFalseIdParams, setButtonsBeingEdited);\n  };\n\n  // Show / hide button editor\n  const toggleButtonBeingEdited = (id) => {\n    setButtonsBeingEdited((prevButtonsBeingEdited) => {\n      let newButtonsBeingEdited = { ...prevButtonsBeingEdited };\n      newButtonsBeingEdited[id] = !prevButtonsBeingEdited[id];\n      return newButtonsBeingEdited;\n    });\n    if (!submitSuccess) return;\n    setSubmitSuccess(null);\n  };\n\n  // Toggle button edit (reset buttons on hide)\n  const toggleButtonEdit = (id) => {\n    if (buttonsBeingEdited[id]) {\n      // closing editor, cancelling edit\n      setCurrentButtons((prevButtons) => {\n        let newButtons = [...prevButtons];\n        const buttonIndex = prevButtons.findIndex((button) => button.id === id);\n        newButtons[buttonIndex] = _.cloneDeep(referenceButtons[buttonIndex]);\n        return newButtons;\n      });\n    }\n    toggleButtonBeingEdited(id);\n  };\n\n  // Set state on render\n  useEffect(() => {\n    if (!buttons) return;\n    resetAll();\n    // use JSON dependency for deep object dependency\n    // eslint-disable-next-line\n  }, [JSONbuttons]);\n\n  // tack on new button to current buttons if necessary\n  useEffect(() => {\n    if (!currentButtons) return;\n    const lastCurrentButton = currentButtons[currentButtons.length - 1];\n    if (\n      lastCurrentButton.text === DEFAULT_BUTTON.text ||\n      buttonsBeingEdited[lastCurrentButton.id] === true\n    )\n      return;\n    const newId = getId();\n    const _addNewButton = (prevButtons) => {\n      return [...prevButtons, getNewButton(newId)];\n    };\n    fireCallbacks(_addNewButton, setCurrentButtons, setReferenceButtons);\n    const _addNewButtonProp = (obj) => {\n      return { ...obj, [newId]: false };\n    };\n    fireCallbacks(_addNewButtonProp, setButtonsBeingEdited);\n  }, [buttonsBeingEdited, currentButtons]);\n\n  const confirmChanges = (id) => {\n    const editedIndex = findItemIndex(currentButtons, id);\n    setReferenceButtons((prevButtons) => {\n      if (editedIndex < 0) {\n        // Pre-existing button\n        return [\n          ...prevButtons,\n          _.cloneDeep(currentButtons[currentButtons.length - 1]),\n        ];\n      }\n      let newButtons = [...prevButtons];\n      newButtons[editedIndex] = _.cloneDeep(currentButtons[editedIndex]);\n      return newButtons;\n    });\n    toggleButtonBeingEdited(id);\n  };\n\n  // update current buttons on edit\n  const editCurrentButton = ({\n    buttonId,\n    value,\n    param,\n    subparam,\n    subredditId,\n  }) => {\n    setCurrentButtons((prevButtons) => {\n      let newButtons = _.cloneDeep(prevButtons);\n      const editedButtonIndex = findItemIndex(newButtons, buttonId);\n      if (!!subparam) {\n        newButtons[editedButtonIndex][param][subparam] = value;\n      } else if (!!subredditId && !param) {\n        // is subreddit edit\n        const editedSubredditIndex = findItemIndex(\n          newButtons[editedButtonIndex].subreddits,\n          subredditId\n        );\n        if (editedSubredditIndex >= 0) {\n          // edit to preexisting subreddit\n          newButtons[editedButtonIndex].subreddits[editedSubredditIndex] = {\n            ...newButtons[editedSubredditIndex].subreddits[\n              editedSubredditIndex\n            ],\n            name: value,\n            // For some reason React gets confused if I don't explicitly\n            // set the ID again\n            // TODO: Understand this problem better!\n            id: subredditId,\n          };\n        } else {\n          // newly added subreddit\n          newButtons[editedButtonIndex].subreddits.push({\n            name: value,\n            id: subredditId,\n          });\n        }\n      } else {\n        newButtons[editedButtonIndex][param] = value;\n      }\n      return newButtons;\n    });\n    if (!submitSuccess) return;\n    setSubmitSuccess(null);\n  };\n\n  const deleteCurrentButtonSubreddit = (buttonId, subredditId) => {\n    setCurrentButtons((prevButtons) => {\n      let newButtons = [...prevButtons];\n      const editedButtonIndex = findItemIndex(newButtons, buttonId);\n      newButtons[editedButtonIndex].subreddits = newButtons[\n        editedButtonIndex\n      ].subreddits.filter((subreddit) => subreddit.id !== subredditId);\n      return newButtons;\n    });\n  };\n\n  const deleteButton = (id) => {\n    // delete button from current and reference\n    const _removeButton = (prevButtons) => {\n      const filteredButtons = prevButtons.filter((button) => button.id !== id);\n      return filteredButtons;\n    };\n    fireCallbacks(_removeButton, setCurrentButtons, setReferenceButtons);\n    // delete validity check and editor open/closed\n    const _removeIdParam = (prevObj) => {\n      let newObj = { ...prevObj };\n      delete newObj[id];\n      return newObj;\n    };\n    fireCallbacks(_removeIdParam, setButtonsBeingEdited);\n    if (!submitSuccess) return;\n    setSubmitSuccess(null);\n  };\n\n  const strippedButtons = useMemo(() => {\n    if (!referenceButtons) return;\n    return stripButton_s(referenceButtons);\n    // use JSON dependency for deep object dependency\n    // eslint-disable-next-line\n  }, [JSONreferenceButtons]);\n\n  const containsNewButtons = useMemo(() => {\n    if (!referenceButtons) return;\n    return !_.isEqual(strippedButtons, buttons);\n    // use JSON dependency for deep object dependency\n    // eslint-disable-next-line\n  }, [JSONbuttons, JSONreferenceButtons, strippedButtons]);\n\n  if (!currentButtons) return <p>Loading your buttons...</p>;\n\n  return (\n    <form\n      id=\"userbuttonsettings\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        setSubmitSuccess(undefined);\n        updateFirebase({\n          type: \"BUTTONS\",\n          data: strippedButtons,\n          setSubmitSuccess,\n        });\n      }}\n      className=\"settingsform\"\n    >\n      <legend className=\"mainlegend\">Button Settings</legend>\n      <p className=\"extradetails clickinstruction\">\n        {`${isTouchscreen ? \"Tap\" : \"Click\"} a button to edit, hit '`}\n        <span className=\"bold\">Finish editing</span>' when you're done and then{\" \"}\n        <span className=\"warning\">\n          save your new buttons at the bottom of the page\n        </span>\n        !\n      </p>\n      <aside className=\"extradetails\">\n        New to Reddit? Check{\" \"}\n        <a\n          href=\"https://www.reddit.com/r/ListOfSubreddits/wiki/listofsubreddits\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          this directory\n        </a>{\" \"}\n        for inspiration for subreddits!\n      </aside>\n      {currentButtons.map((currentButton, i) => {\n        const keepChanges = () => confirmChanges(currentButton.id);\n        const isNewButton = currentButton.text === DEFAULT_BUTTON.text;\n        return (\n          <div\n            className={`editbutton${isNewButton ? \" editnewbutton\" : \"\"}`}\n            key={currentButton.id}\n          >\n            <Button\n              button={currentButton}\n              key={`button${currentButton.id}${i}`}\n              handleClick={() => toggleButtonEdit(currentButton.id)}\n            />\n            {/* Only render editor if necessary for increased performance */}\n            {buttonsBeingEdited &&\n              buttonsBeingEdited[currentButton.id] &&\n              (() => {\n                const originalButton = buttons[i];\n                const strippedCurrentButton = stripButton_s(currentButton);\n                const modified = !_.isEqual(\n                  strippedCurrentButton,\n                  originalButton\n                );\n                return (\n                  <ButtonEditor\n                    key={`editor${currentButton.id}${i}`}\n                    currentButton={currentButton}\n                    editCurrentButton={editCurrentButton}\n                    deleteCurrentButtonSubreddit={deleteCurrentButtonSubreddit}\n                    deleteButton={deleteButton}\n                    cancel={() => toggleButtonEdit(currentButton.id)}\n                    modified={modified}\n                    keepChanges={keepChanges}\n                    isDuplicate={checkForDuplicateButton(currentButton.text)}\n                  />\n                );\n              })()}\n          </div>\n        );\n      })}\n      <FormButtons\n        submitSuccess={submitSuccess}\n        isDifferent={containsNewButtons}\n        cancel={resetAll}\n      />\n    </form>\n  );\n};\n\nexport default ButtonSettings;\n","import { useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\n\n// APIs\nimport {\n  signInWithGoogle,\n  signOutWithGoogle,\n  isSignedIn,\n  updateData,\n} from \"../API/firebase\";\n\n// styles\nimport \"../styles/Settings.min.css\";\n\n// components\nimport UserSettings from \"./UserSettings\";\nimport ButtonSettings from \"./ButtonSettings\";\n\nconst Settings = ({\n  resetAllData,\n  uid,\n  settings,\n  setSettings,\n  buttons,\n  setButtons,\n}) => {\n  // history\n  const history = useHistory();\n\n  // UPDATE DATABASE\n  const updateFirebase = useCallback(\n    async ({ type, data, setSubmitSuccess }) => {\n      const dataCategory = type === \"SETTINGS\" ? \"userSettings\" : \"userButtons\";\n      const setUserState = type === \"SETTINGS\" ? setSettings : setButtons;\n      const result = await updateData[dataCategory](uid, data);\n      if (!result) {\n        setSubmitSuccess(false);\n        return;\n      }\n      setUserState(data);\n      setSubmitSuccess(true);\n    },\n    [setButtons, setSettings, uid]\n  );\n\n  if (!isSignedIn()) {\n    return (\n      <p>\n        Please{\" \"}\n        <span className=\"link\" onClick={signInWithGoogle}>\n          sign in\n        </span>{\" \"}\n        to change your settings\n      </p>\n    );\n  }\n\n  if (!settings || !buttons || !uid) return <p>Loading your settings...</p>;\n\n  return (\n    <div id=\"settingscontainer\">\n      <div className=\"signout\">\n        <p>\n          Click{\" \"}\n          <span\n            onClick={() => {\n              resetAllData();\n              history.push(\"/\");\n              signOutWithGoogle();\n            }}\n            className=\"link\"\n          >\n            here\n          </span>{\" \"}\n          to sign out of your account\n        </p>\n      </div>\n      <UserSettings settings={settings} updateFirebase={updateFirebase} />\n      <ButtonSettings buttons={buttons} updateFirebase={updateFirebase} />\n      <button\n        id=\"totop\"\n        onClick={(e) => {\n          e.stopPropagation();\n          document.body.scrollTop = 0;\n          document.documentElement.scrollTop = 0;\n        }}\n      >\n        \n      </button>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { useState, memo, useEffect, useContext } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\n\n// styles\nimport \"../styles/ButtonBox.min.css\";\n\n// constants\nimport { BREAKPOINTS } from \"../constants/variables\";\n\n// context\nimport { RedditPostContext } from \"../constants/contexts\";\n\n// components\nimport Loading from \"./Loading\";\nimport Button from \"./Button\";\n\nconst ButtonBox = ({ buttons }) => {\n  // STATE\n  const [firstButtonIndex, setFirstButtonIndex] = useState(0);\n  const [currentButtons, setCurrentButtons] = useState(null);\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth,\n  });\n\n  // CONTEXT\n  const { getNextPost, finishedLists } = useContext(RedditPostContext);\n\n  // reset state on button change\n  useEffect(() => {\n    setFirstButtonIndex(0);\n  }, [buttons]);\n\n  // rerender on window resize\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth,\n      });\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  const handleButtonRight = () => {\n    setFirstButtonIndex(\n      (firstButtonIndex + currentButtons.length) % buttons.length\n    );\n  };\n  const handleButtonLeft = () => {\n    setFirstButtonIndex(\n      firstButtonIndex - 1 >= 0 ? firstButtonIndex - 1 : buttons.length - 1\n    );\n  };\n\n  // calculate number of visible buttons based on screen size\n  let breakpointQueries = [];\n  // for loop as useMediaQuery cannot be used in callback\n  for (let i = 0; i < BREAKPOINTS.length; i++) {\n    breakpointQueries.push(\n      // allow loop at render as allows button count to depend upon breakpoints\n      useMediaQuery({ query: `(min-width: ${BREAKPOINTS[i]}px)` }) // eslint-disable-line\n    );\n  }\n  const currentBreakpoint = breakpointQueries.indexOf(false);\n  const maxButtonCount =\n    currentBreakpoint === -1 ? BREAKPOINTS.length : currentBreakpoint;\n  const buttonCount = buttons && Math.min(maxButtonCount, buttons.length);\n  const needsNavigation = buttons && buttons.length > buttonCount;\n\n  /*\n    TODO: Replace with %-based solution, e.g.\n\n    const currentButtons = (() => {\n      let buttonArray = [];\n      for (let i = firstButtonIndex; i < buttonCount; i++) {\n        buttonArray[i] = buttons[firstButtonIndex + i % buttons.length]\n      }\n      return buttonArray;\n    })\n  */\n\n  // set state based on button calculation\n  useEffect(() => {\n    if (buttons === undefined) return;\n    if (buttons === null) return <p>Oops no buttons!</p>;\n    if (firstButtonIndex + buttonCount <= buttons.length) {\n      setCurrentButtons([...buttons].splice(firstButtonIndex, buttonCount));\n      return;\n    }\n    let startButtons = buttons.slice(firstButtonIndex);\n    let endButtons = [...buttons].splice(0, buttonCount - startButtons.length);\n    setCurrentButtons([...startButtons, ...endButtons]);\n  }, [firstButtonIndex, buttonCount, buttons]);\n\n  return buttons ? (\n    <div\n      id=\"buttonbox\"\n      key={`${dimensions.width}x${dimensions.height}`}\n      style={{\n        gridTemplateColumns: `${\n          needsNavigation ? \"1fr \" : \"\"\n        }repeat(${buttonCount}, 4fr)${needsNavigation ? \" 1fr\" : \"\"}`,\n      }}\n    >\n      {needsNavigation && (\n        <button\n          type=\"button\"\n          className=\"buttonnav left\"\n          onClick={handleButtonLeft}\n        >\n          \n        </button>\n      )}\n      {currentButtons?.map((button, i) => (\n        <Button\n          key={`button${button.id}${i}`}\n          button={button}\n          isDisabled={finishedLists[button.text]}\n          handleClick={() => {\n            getNextPost({\n              subreddits: button.subreddits,\n              category: button.text,\n            });\n          }}\n        />\n      ))}\n      {needsNavigation && (\n        <button\n          type=\"button\"\n          className=\"buttonnav right\"\n          onClick={handleButtonRight}\n        >\n          \n        </button>\n      )}\n    </div>\n  ) : (\n    <Loading type=\"BUTTONS\" />\n  );\n};\n\nexport default memo(ButtonBox);\n","import { useEffect, useState, useCallback } from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\n// APIs\nimport { getRedditData } from \"./API/reddit\";\nimport { getData, initFirebaseAuth, getInitStatus } from \"./API/firebase\";\n\n// styles\nimport \"./styles/App.min.css\";\n\n// utils\nimport { shuffleArray } from \"./utils\";\n\n// context\nimport { RedditPostContext } from \"./constants/contexts\";\n\n// components\nimport NavBar from \"./components/NavBar\";\nimport About from \"./components/About\";\nimport Canvas from \"./components/Canvas\";\nimport Settings from \"./components/Settings\";\nimport ButtonBox from \"./components/ButtonBox\";\n\nfunction App() {\n  // STATE\n  const [firebaseReady, setFirebaseReady] = useState({\n    initialized: false,\n    observed: false,\n  });\n  const [user, setUser] = useState(undefined);\n  const [buttons, setButtons] = useState(undefined);\n  const [settings, setSettings] = useState(undefined);\n  const [fetchingPosts, setFetchingPosts] = useState(false);\n  const [welcomed, setWelcomed] = useState(false);\n  const [currentCategory, setCurrentCategory] = useState(undefined);\n  const [redditLists, setRedditLists] = useState(undefined);\n  const [finishedLists, setFinishedLists] = useState({});\n\n  // state handlers\n  const confirmWelcomed = useCallback(() => {\n    if (welcomed) return;\n    setWelcomed(true);\n  }, [welcomed]);\n\n  const resetAllData = useCallback(() => {\n    const data = [\n      {\n        state: buttons,\n        setState: setButtons,\n      },\n      {\n        state: settings,\n        setState: setSettings,\n      },\n      {\n        state: redditLists,\n        setState: setRedditLists,\n      },\n      {\n        state: currentCategory,\n        setState: setCurrentCategory,\n      },\n    ];\n    data.forEach((dataset) => {\n      if (!dataset.state) return;\n      dataset.setState(undefined);\n    });\n  }, [buttons, currentCategory, redditLists, settings]);\n\n  // FIREBASE\n  // observer function\n  const authStateObserver = (user) => {\n    user\n      ? setUser(() => ({ ...user, displayName: user.displayName.split(\" \") }))\n      : setUser(undefined);\n  };\n\n  // SET-UP\n  // Report initialized\n  useEffect(() => {\n    if (firebaseReady.initialized || !getInitStatus()) return;\n    setFirebaseReady((prevStatus) => ({ ...prevStatus, initialized: true }));\n  }, [firebaseReady.initialized]);\n\n  // Pass observer and report observed\n  useEffect(() => {\n    if (!firebaseReady.initialized || firebaseReady.observed) return;\n    // Pass Firebase authStateObserver\n    initFirebaseAuth(authStateObserver);\n    setFirebaseReady((prevStatus) => ({ ...prevStatus, observed: true }));\n  }, [firebaseReady]);\n\n  // QUERY DATABASE\n  const getFirebaseData = useCallback(\n    async (fn, arg) => {\n      resetAllData();\n      let isSubscribed = true;\n      const data = await fn(arg);\n      if (isSubscribed) {\n        if (!!data) {\n          setSettings(data.settings);\n          setButtons(data.buttons);\n          return;\n        }\n        // failed to fetch\n        setSettings(null);\n        setButtons(null);\n      }\n      return () => (isSubscribed = false);\n    },\n    [resetAllData]\n  );\n\n  // Set buttons and settings on user change\n  useEffect(() => {\n    if (!user) {\n      getFirebaseData(getData.defaults);\n      return;\n    }\n    getFirebaseData(getData.userData, user.uid);\n    // only run on user change\n    // eslint-disable-next-line\n  }, [user]);\n\n  // REDDIT\n  const categoryExists = useCallback(\n    (category = currentCategory) =>\n      !!currentCategory && !!redditLists && !!redditLists[category],\n    [currentCategory, redditLists]\n  );\n\n  // Pull Reddit post data / increment index\n  const getNextPost = useCallback(\n    async (\n      { subreddits, category } = {\n        subreddits: buttons.find((button) => button.text === currentCategory)\n          .subreddits,\n        category: currentCategory,\n      }\n    ) => {\n      const refreshRedditList = async (subreddits, category) => {\n        const getSubredditList = async (subreddit) => {\n          const redditResponse = await getRedditData({\n            ...settings,\n            subreddit,\n          });\n          return redditResponse;\n        };\n        confirmWelcomed();\n        let subredditLists = [];\n        for (let i = 0; i < subreddits.length; i++) {\n          const subredditList = await getSubredditList(subreddits[i]);\n          // failed\n          if (!subredditList) {\n            continue;\n          }\n          // succeeded\n          subredditLists = [...subredditLists, ...subredditList];\n        }\n        if (!subredditLists.length) {\n          // all failed\n          setRedditLists(null);\n          return false;\n        }\n        // randomise list\n        const randomisedSubredditLists = shuffleArray(subredditLists);\n        setRedditLists((prevLists) => {\n          return {\n            ...prevLists,\n            [category]: {\n              list: randomisedSubredditLists,\n              index: 0,\n            },\n          };\n        });\n        return true;\n      };\n      // executed code\n      if (category !== currentCategory) setCurrentCategory(category);\n      if (!categoryExists(category) && !fetchingPosts) {\n        // Category not yet pulled\n        setFetchingPosts(true);\n        await refreshRedditList(subreddits, category);\n        setFetchingPosts(false);\n      } else if (categoryExists(category)) {\n        // Category pulled\n        if (\n          redditLists[category].index ===\n          redditLists[category].list.length - 1\n        ) {\n          // finished the list\n          setFinishedLists((prevLists) => ({\n            ...prevLists,\n            [category]: true,\n          }));\n        } else {\n          // increment index\n          const incrementIndex = (category) => {\n            setRedditLists((prevLists) => {\n              return {\n                ...prevLists,\n                [category]: {\n                  ...prevLists[category],\n                  index: prevLists[category].index + 1,\n                },\n              };\n            });\n          };\n          incrementIndex(category);\n        }\n      }\n      return () => setFetchingPosts(false);\n    },\n    // Ignore 'buttons' from dependency array to avoid recursion\n    // eslint-disable-next-line\n    [\n      currentCategory,\n      categoryExists,\n      fetchingPosts,\n      confirmWelcomed,\n      settings,\n      redditLists,\n    ]\n  );\n\n  // CONTEXT VALUES\n  const RedditContextValue = {\n    getNextPost,\n    currentPost:\n      redditLists === null\n        ? null\n        : categoryExists()\n        ? redditLists[currentCategory].list[redditLists[currentCategory].index]\n        : undefined,\n    fetchingPosts,\n    finishedLists,\n    thisListFinished: finishedLists[currentCategory],\n  };\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <NavBar user={user} confirmWelcomed={confirmWelcomed} />\n        <RedditPostContext.Provider value={RedditContextValue}>\n          <main>\n            <Switch>\n              <Route exact path=\"/\">\n                <div id=\"appcontainer\">\n                  <Canvas\n                    welcomed={welcomed}\n                    showContent={\n                      settings && {\n                        NSFWprompt: settings.NSFWPrompt,\n                        spoilerPrompt: settings.spoilerPrompt,\n                      }\n                    }\n                  />\n                  <ButtonBox buttons={buttons} />\n                </div>\n              </Route>\n              <Route path=\"/about\">\n                <About />\n              </Route>\n              <Route path=\"/settings\">\n                <Settings\n                  resetAllData={resetAllData}\n                  uid={user && user.uid}\n                  settings={settings}\n                  setSettings={setSettings}\n                  buttons={buttons}\n                  setButtons={setButtons}\n                />\n              </Route>\n            </Switch>\n          </main>\n        </RedditPostContext.Provider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}